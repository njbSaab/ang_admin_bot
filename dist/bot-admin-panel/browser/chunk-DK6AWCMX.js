import{$ as ve,A as l,B as h,C as f,D as w,E as y,F as C,G as ie,H as X,I as _e,J as E,K as S,L as $,M as Q,N as j,O as z,P as O,Q as ne,R as D,X as fe,Y as xe,Z as ee,_ as W,a as F,aa as G,b as A,ba as U,c as pe,d as N,e as Z,ea as H,f as L,g as M,ga as oe,h as K,ha as re,i as me,ia as ae,j as m,k as g,ka as be,l as x,m as k,n as I,o as a,p as V,q as _,r as p,s as ge,t,u as n,v as d,w as b,x as v,y as u,z as Y}from"./chunk-OYRJ2Z5W.js";var ze=(i,c)=>({"text-white bg-indigo-600":i,"text-gray-500 bg-white":c}),ce=()=>({exact:!0}),le=(()=>{class i{isSidebarOpen=!1;currentSidebarTab=null;toggleSidebar(e){this.isSidebarOpen&&this.currentSidebarTab===e?(this.isSidebarOpen=!1,this.currentSidebarTab=null):(this.isSidebarOpen=!0,this.currentSidebarTab=e)}static \u0275fac=function(o){return new(o||i)};static \u0275cmp=M({type:i,selectors:[["app-sidebar"]],decls:33,vars:12,consts:[[1,"flex","flex-shrink-0","transition-all","h-full","fixed","inset-y-0","z-10","sidebar"],[1,"sidebar-button","fixed","inset-y-0","z-100","w-16","bg-white","border-r-2","relative"],[1,"menu-button","p-2","transition-colors","rounded-lg","shadow-md","hover:bg-indigo-800","hover:text-white","focus:outline-none","focus:ring","focus:ring-indigo-600","focus:ring-offset-white","focus:ring-offset-2",3,"click","ngClass"],[1,"sr-only"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6h16M4 12h16M4 18h7"],["routerLink","/admin","routerLinkActive","bg-indigo-600 text-white",1,"menu-button","p-2","transition-colors","rounded-lg","shadow-md","hover:bg-indigo-800","hover:text-white","focus:outline-none","focus:ring","focus:ring-indigo-600","focus:ring-offset-white","focus:ring-offset-2",3,"routerLinkActiveOptions"],["xmlns","http://www.w3.org/2000/svg","width","32","height","32","viewBox","0 0 24 24",1,"w-6","h-6"],["fill","currentColor","d","M3 10h11v2H3zm0-2h11V6H3zm0 8h7v-2H3zm15.01-3.13l.71-.71a.996.996 0 0 1 1.41 0l.71.71c.39.39.39 1.02 0 1.41l-.71.71zm-.71.71l-5.3 5.3V21h2.12l5.3-5.3z"],["routerLink","/admin/add-button","routerLinkActive","bg-indigo-600 text-white",1,"menu-button","p-2","transition-colors","rounded-lg","shadow-md","hover:bg-indigo-800","hover:text-white","focus:outline-none","focus:ring","focus:ring-indigo-600","focus:ring-offset-white","focus:ring-offset-2"],["fill","currentColor","d","M19 12.998h-6v6h-2v-6H5v-2h6v-6h2v6h6z"],["routerLink","",1,"menu-button","p-2","transition-colors","rounded-lg","shadow-md","hover:bg-indigo-800","hover:text-white","focus:outline-none","focus:ring","focus:ring-indigo-600","focus:ring-offset-white","focus:ring-offset-2","absolute","bottom-4","left-0"],["fill","currentColor","d","M10.09 15.59L11.5 17l5-5l-5-5l-1.41 1.41L12.67 11H3v2h9.67zM19 3H5a2 2 0 0 0-2 2v4h2V5h14v14H5v-4H3v4a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"],[1,"sidebar-menu","fixed","inset-y-0","z-10","flex-shrink-0","w-64","bg-white","border-r-2","border-indigo-100","shadow-lg","left-16","sm:w-72"],["aria-label","Main",1,"flex","flex-col","h-full"],[1,"relative","flex-1","px-4","space-y-2","overflow-hidden","hover:overflow-auto","pt-[62px]","flex","flex-col","gap-[11px]","cursor-pointer"],[1,"text-3xl","font-bold","text-indigo-600","absolute","top-[20px]","left-[50%]","translate-x-[-50%]"],["routerLink","/admin","routerLinkActive","bg-indigo-600 text-white",1,"nav-item","mt-0","flex","items-center","w-full","space-x-2","text-indigo-600","transition-colors","rounded-lg","group","hover:bg-indigo-600","hover:text-white","cursor-pointer",3,"routerLinkActiveOptions"],["aria-hidden","true",1,"p-2","transition-colors","rounded-lg","group-hover:bg-indigo-700","group-hover:text-white"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"],["routerLink","/admin/add-button","routerLinkActive","bg-indigo-600 text-white",1,"nav-item","mt-0","flex","items-center","space-x-2","text-indigo-600","transition-colors","rounded-lg","group","hover:bg-indigo-600","hover:text-white",3,"routerLinkActiveOptions"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"]],template:function(o,r){o&1&&(t(0,"div",0)(1,"div",1)(2,"button",2),v("click",function(){return r.toggleSidebar("linksTab")}),t(3,"span",3),l(4,"Toggle sidebar"),n(),x(),t(5,"svg",4),d(6,"path",5),n()(),k(),t(7,"button",6),x(),t(8,"svg",7),d(9,"path",8),n()(),k(),t(10,"button",9),x(),t(11,"svg",7),d(12,"path",10),n()(),k(),t(13,"button",11),x(),t(14,"svg",7),d(15,"path",12),n()()(),k(),t(16,"div",13)(17,"nav",14)(18,"div",15)(19,"span",16),l(20,"Admin"),n(),t(21,"div",17)(22,"span",18),x(),t(23,"svg",19),d(24,"path",20),n()(),k(),t(25,"span"),l(26,"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C"),n()(),t(27,"div",21)(28,"span",18),x(),t(29,"svg",19),d(30,"path",22),n()(),k(),t(31,"span"),l(32,"\u0421\u043E\u0437\u0434\u0430\u0442\u044C"),n()()()()()()),o&2&&(a(2),p("ngClass",_e(6,ze,r.isSidebarOpen&&r.currentSidebarTab==="linksTab",!(r.isSidebarOpen&&r.currentSidebarTab==="linksTab"))),a(5),p("routerLinkActiveOptions",ie(9,ce)),a(9),ge("hidden",!r.isSidebarOpen),a(5),p("routerLinkActiveOptions",ie(10,ce)),a(6),p("routerLinkActiveOptions",ie(11,ce)))},dependencies:[Q,fe,xe],styles:[".sidebar[_ngcontent-%COMP%]   .sidebar-button[_ngcontent-%COMP%]{border-radius:0 20px 20px 0;box-shadow:0 0 15px #4e46e533}.sidebar[_ngcontent-%COMP%]   .sidebar-button[_ngcontent-%COMP%]:hover{box-shadow:0 0 15px #4e46e580;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);transition:all .3s ease-in-out}.sidebar[_ngcontent-%COMP%]   .menu-button[_ngcontent-%COMP%]{margin:10px 0 10px 10px}.sidebar[_ngcontent-%COMP%]   .sidebar-menu[_ngcontent-%COMP%]{border-radius:20px}.sidebar[_ngcontent-%COMP%]   .sidebar-menu[_ngcontent-%COMP%]:hover{box-shadow:0 0 15px #4e46e580;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);transition:all .3s ease-in-out}.sidebar[_ngcontent-%COMP%]   *[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:before, .sidebar[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:transparent!important}"]})}return i})();var R=(()=>{class i{static \u0275fac=function(o){return new(o||i)};static \u0275cmp=M({type:i,selectors:[["app-edit-icon"]],decls:9,vars:0,consts:[["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24"],["fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],["stroke-dasharray","20","stroke-dashoffset","20","d","M3 21h18"],["fill","freeze","attributeName","stroke-dashoffset","dur","0.2s","values","20;0"],["fill","currentColor","fill-opacity","0","stroke-dasharray","48","stroke-dashoffset","48","d","M7 17v-4l10 -10l4 4l-10 10h-4"],["fill","freeze","attributeName","fill-opacity","begin","1.1s","dur","0.5s","values","0;1"],["fill","freeze","attributeName","stroke-dashoffset","begin","0.2s","dur","0.6s","values","48;0"],["stroke-dasharray","8","stroke-dashoffset","8","d","M14 6l4 4"],["fill","freeze","attributeName","stroke-dashoffset","begin","0.8s","dur","0.2s","values","8;0"]],template:function(o,r){o&1&&(x(),t(0,"svg",0)(1,"g",1)(2,"path",2),d(3,"animate",3),n(),t(4,"path",4),d(5,"animate",5)(6,"animate",6),n(),t(7,"path",7),d(8,"animate",8),n()()())}})}return i})();var we=(()=>{class i{transform(e,o){return e?o===null?e:o===3?e.filter(r=>r.parent_menu&&(r.parent_menu.id===4||r.parent_menu.id===5)):e.filter(r=>r.parent_menu&&r.parent_menu.id===o):[]}static \u0275fac=function(o){return new(o||i)};static \u0275pipe=me({name:"filterByParentMenuId",type:i,pure:!0})}return i})();var ye=(()=>{class i{static \u0275fac=function(o){return new(o||i)};static \u0275mod=K({type:i});static \u0275inj=Z({imports:[ne,ee]})}return i})();var Ce=(()=>{class i{http;apiUrl=W.auth.apiUrl;constructor(e){this.http=e}getGreetings(){return this.http.get(`${this.apiUrl}greetings`)}updateGreeting(e,o){return this.http.put(`${this.apiUrl}greetings/${e}`,o)}static \u0275fac=function(o){return new(o||i)(L(D))};static \u0275prov=N({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function $e(i,c){if(i&1){let e=b();t(0,"div",11)(1,"b"),l(2),n(),t(3,"span",12),v("click",function(){m(e);let r=u(2);return g(r.closeSuccessMessage())}),x(),t(4,"svg",13),d(5,"path",14),n()()()}if(i&2){let e=u(2);a(2),f(" ",e.successMessage," ")}}function Ge(i,c){if(i&1){let e=b();t(0,"div",15),l(1),t(2,"span",12),v("click",function(){m(e);let r=u(2);return g(r.closeErrorMessage())}),x(),t(3,"svg",13),d(4,"path",14),n()()()}if(i&2){let e=u(2);a(),f(" ",e.errorMessage," ")}}function Ue(i,c){if(i&1&&(t(0,"figure"),d(1,"img",40),n()),i&2){let e=u(2).$implicit;a(),p("src",e.image_url,I)}}function He(i,c){if(i&1){let e=b();t(0,"div"),_(1,Ue,2,1,"figure",24),t(2,"div",25)(3,"p",26),l(4),n(),t(5,"p",27),l(6,"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435:"),n(),t(7,"p"),l(8),n(),t(9,"div",28)(10,"button",29),v("click",function(){m(e);let r=u().$implicit,s=u(2);return g(s.toggleEdit(r))}),l(11," \u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C "),t(12,"span",30),x(),t(13,"svg",31)(14,"g",32)(15,"path",33),d(16,"animate",34),n(),t(17,"path",35),d(18,"animate",36)(19,"animate",37),n(),t(20,"path",38),d(21,"animate",39),n()()()()()()()()}if(i&2){let e=u().$implicit;a(),p("ngIf",e.image_url),a(3),f("ID: ",e.id,""),a(4),h(e.greeting_text)}}function Re(i,c){if(i&1&&(t(0,"figure"),d(1,"img",40),n()),i&2){let e=u(2).$implicit;a(),p("src",e.image_url,I)}}function Ye(i,c){if(i&1){let e=b();t(0,"div"),_(1,Re,2,1,"figure",24),t(2,"div",41)(3,"label",42),l(4," \u0412\u0441\u0442\u0430\u0432\u044C\u0442\u0435 \u0441\u0441\u044B\u043B\u043A\u0443 \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435 \u043F\u0440\u0438\u043C\u0435\u0440: "),t(5,"b"),l(6,"https://image.com"),n()(),t(7,"div",43)(8,"p",44),l(9," \u041F\u0443\u0442\u044C "),n(),t(10,"input",45),C("ngModelChange",function(r){m(e);let s=u().$implicit;return y(s.image_url,r)||(s.image_url=r),g(r)}),v("blur",function(){m(e);let r=u().$implicit,s=u(2);return g(s.refreshImage(r))}),n()()(),t(11,"div",25)(12,"label",46),l(13,"\u041A\u043E\u043D\u0442\u0435\u043D\u0442 \u043A\u043D\u043E\u043F\u043A\u0438"),n(),t(14,"textarea",47),C("ngModelChange",function(r){m(e);let s=u().$implicit;return y(s.greeting_text,r)||(s.greeting_text=r),g(r)}),n(),t(15,"div",28)(16,"button",48),v("click",function(){m(e);let r=u().$implicit,s=u(2);return g(s.saveChanges(r))}),l(17," \u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C "),t(18,"span",49),x(),t(19,"svg",50)(20,"path",51),d(21,"animate",52),n()()()()()()()}if(i&2){let e=u().$implicit;a(),p("ngIf",e.image_url),a(9),w("ngModel",e.image_url),a(4),w("ngModel",e.greeting_text)}}function Ze(i,c){if(i&1&&(t(0,"div",16)(1,"div",17)(2,"div",18)(3,"p",19),l(4," \u{1F44B} "),t(5,"span",20),l(6),n()()(),t(7,"div",21)(8,"p",22),l(9),E(10,"date"),n()()(),t(11,"div",23),_(12,He,22,3,"div",3)(13,Ye,22,3,"ng-template",null,1,$),n()()),i&2){let e=c.$implicit,o=c.index,r=Y(14);a(6),f("\u041F\u0440\u0438\u0432\u0435\u0441\u0442\u0432\u0438\u0435 \u2116",o+1,""),a(3),f(" \u0414\u0430\u0442\u0430 \u0441\u043E\u0437\u0434\u0430\u043D\u0438\u044F: ",S(10,4,e.created_at,"medium")," "),a(3),p("ngIf",!e.isEditing)("ngIfElse",r)}}function Ke(i,c){if(i&1&&(t(0,"div")(1,"div",4)(2,"h2",5),l(3," \u041F\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0435 \u0431\u043E\u0442\u0430 "),t(4,"span"),l(5,"/start"),n()(),t(6,"p",6),l(7," \u0412\u0441\u0435\u0433\u043E \u043F\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0439: "),t(8,"span",7),l(9),n()()(),_(10,$e,6,1,"div",8)(11,Ge,5,1,"div",9)(12,Ze,15,7,"div",10),n()),i&2){let e=u();a(9),h(e.greetings.length),a(),p("ngIf",e.successMessage),a(),p("ngIf",e.errorMessage),a(),p("ngForOf",e.greetings)}}function Qe(i,c){i&1&&(t(0,"div",53),x(),t(1,"svg",54)(2,"defs")(3,"radialGradient",55),d(4,"stop",56)(5,"stop",57),n(),t(6,"radialGradient",58),d(7,"stop",59)(8,"stop",60),n(),t(9,"radialGradient",61),d(10,"stop",62)(11,"stop",63),n()(),t(12,"circle",64),d(13,"animate",65)(14,"animate",66),n(),t(15,"circle",67),d(16,"animate",68)(17,"animate",69),n(),t(18,"circle",70),d(19,"animate",71)(20,"animate",72),n()()())}var Ee=(()=>{class i{greetingBotService;greetings=[];loading=!0;successMessage=null;errorMessage=null;constructor(e){this.greetingBotService=e}ngOnInit(){this.loadGreetings()}loadGreetings(){this.greetingBotService.getGreetings().subscribe({next:e=>{this.greetings=e.map(o=>A(F({},o),{isEditing:!1})),this.loading=!1,console.log("\u0417\u0430\u0433\u0440\u0443\u0436\u0435\u043D\u043E \u0443\u0441\u043F\u0435\u0448\u043D\u043E",this.greetings)},error:e=>{console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0435 \u0434\u0430\u043D\u043D\u044B\u0445:",e),this.errorMessage="\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0435 \u0434\u0430\u043D\u043D\u044B\u0445",this.loading=!1}})}toggleEdit(e){e.isEditing=!e.isEditing,this.clearMessages()}saveChanges(e){this.greetingBotService.updateGreeting(e.id,{greeting_text:e.greeting_text,image_url:e.image_url}).subscribe({next:o=>{console.log("\u0421\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u043E \u0443\u0441\u043F\u0435\u0448\u043D\u043E:",o),e.isEditing=!1,this.successMessage="\u0418\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u044F \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u044B \u0443\u0441\u043F\u0435\u0448\u043D\u043E!",setTimeout(()=>{this.closeSuccessMessage()},3e3)},error:o=>{console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u0438\u0438:",o),this.errorMessage="\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u0438\u0438 \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u0439",setTimeout(()=>{this.closeErrorMessage()},3e3)}})}refreshImage(e){console.log("URL \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F \u043E\u0431\u043D\u043E\u0432\u043B\u0435\u043D\u043E:",e.image_url),this.clearMessages()}closeSuccessMessage(){this.successMessage=null}closeErrorMessage(){this.errorMessage=null}clearMessages(){this.successMessage=null,this.errorMessage=null}static \u0275fac=function(o){return new(o||i)(V(Ce))};static \u0275cmp=M({type:i,selectors:[["app-greeting-bot"]],decls:4,vars:2,consts:[["loading",""],["editMode",""],[1,"tab-item","w-full"],[4,"ngIf","ngIfElse"],[1,"bg-main-trans2-gradient-90","header-tab","flex","items-center","justify-between","px-[20px]","py-[10px]","my-[30px]","rounded-[20px]","w-[70%]","mx-auto"],[1,"title-tab","text-xl","font-bold","text-main-trans"],[1,"text-right","text-indigo-600","flex","gap-2","items-center","rounded-[20px]","bg-main","px-[15px]","py-[5px]"],[1,"font-bold","text-2xl"],["class","alert alert-success mb-4 relative flex justify-between",4,"ngIf"],["class","alert alert-error relative",4,"ngIf"],["class","card-wrapper bg-main-trans-gradient-0 rounded-[20px] p-[20px] pb-[30px]",4,"ngFor","ngForOf"],[1,"alert","alert-success","mb-4","relative","flex","justify-between"],[1,"close",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","36","height","36","viewBox","0 0 24 24"],["fill","currentColor","d","M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10s10-4.47 10-10S17.53 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8s8 3.59 8 8s-3.59 8-8 8m3.59-13L12 10.59L8.41 7L7 8.41L10.59 12L7 15.59L8.41 17L12 13.41L15.59 17L17 15.59L13.41 12L17 8.41z"],[1,"alert","alert-error","relative"],[1,"card-wrapper","bg-main-trans-gradient-0","rounded-[20px]","p-[20px]","pb-[30px]"],[1,"card-wrapper-title","flex","items-start","justify-between","mb-[20px]"],[1,"card-title-group","flex","justify-between","items-center"],[1,"number","text-lg"],[1,"font-bold","text-indigo-600"],[1,"card-date","flex","items-center","gap-2"],[1,"text-xs","text-gray-500"],[1,"card","bg-base-100","mx-auto","w-[80%]","hover-shadow-white"],[4,"ngIf"],[1,"card-body"],[1,"text-indigo-600"],[1,"text-indigo-400","text-lg"],[1,"card-actions","justify-center","pt-[20px]"],[1,"btn","btn-ghost","pr-0",3,"click"],[1,"btn","btn-primary"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24"],["fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],["stroke-dasharray","20","stroke-dashoffset","20","d","M3 21h18"],["fill","freeze","attributeName","stroke-dashoffset","dur","0.2s","values","20;0"],["fill","currentColor","fill-opacity","0","stroke-dasharray","48","stroke-dashoffset","48","d","M7 17v-4l10 -10l4 4l-10 10h-4"],["fill","freeze","attributeName","fill-opacity","begin","1.1s","dur","0.5s","values","0;1"],["fill","freeze","attributeName","stroke-dashoffset","begin","0.2s","dur","0.6s","values","48;0"],["stroke-dasharray","8","stroke-dashoffset","8","d","M14 6l4 4"],["fill","freeze","attributeName","stroke-dashoffset","begin","0.8s","dur","0.2s","values","8;0"],["alt","Greeting image",3,"src"],[1,"mt-4","px-[32px]"],["for","domain name",1,"block","text-sm","text-indigo-400"],[1,"flex","items-center","mt-2"],[1,"py-2.5","px-3","text-gray-700","bg-gray-200","border","border-r-0","rounded-l-lg","input-title"],["type","text","placeholder","https://image.com",1,"input","block","w-full","rounded-l-none","placeholder-gray-500","border","border-gray-300","bg-white","px-5","py-2.5","text-gray-800","focus:border-blue-500","focus:outline-none","focus:ring","focus:ring-blue-300","focus:ring-opacity-40",3,"ngModelChange","blur","ngModel"],["for","Description",1,"block","text-sm","text-indigo-400","font-bold"],["placeholder","\u0421\u043E\u0434\u0435\u0440\u0436\u0438\u043C\u043E\u0435 \u043F\u0440\u0438\u0432\u0435\u0442\u0441\u0432\u0435\u043D\u043D\u043E\u0433\u043E \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u044F",1,"block","mt-2","w-full","h-[320px]","placeholder-gray-500","rounded-lg","border","border-gray-300","bg-white","px-4","py-2.5","text-gray-800","focus:border-blue-500","focus:outline-none","focus:ring","focus:ring-blue-300","focus:ring-opacity-40",3,"ngModelChange","ngModel"],[1,"btn","btn-ghost","pr-0","text-success",3,"click"],[1,"btn","btn-accent"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","viewBox","0 0 24 24"],["fill","none","stroke","#fff","stroke-dasharray","24","stroke-dashoffset","24","stroke-linecap","round","stroke-linejoin","round","stroke-width","2.7","d","M5 11l6 6l10 -10"],["fill","freeze","attributeName","stroke-dashoffset","dur","0.96s","values","24;0"],[1,"isLoading","fixed","z-10"],["xmlns","http://www.w3.org/2000/svg","width","300","height","300","viewBox","0 0 24 24",1,""],["id","gradient1","cx","50%","cy","50%","r","50%"],["offset","0%","stop-color","oklch(51.01% 0.274 263.83)"],["offset","100%","stop-color","#4f45e5"],["id","gradient2","cx","50%","cy","50%","r","50%"],["offset","0%","stop-color","oklch(47.66% 0.246 305.88)"],["offset","100%","stop-color","#818cf8"],["id","gradient3","cx","50%","cy","50%","r","50%"],["offset","0%","stop-color","#4f45e5"],["offset","100%","stop-color","#8845e5"],["cx","12","cy","12","r","0","fill","url(#gradient1)"],["id","svgSpinnersPulseMultiple0","fill","freeze","attributeName","r","begin","0;svgSpinnersPulseMultiple2.end","calcMode","spline","dur","1.2s","keySplines",".52,.6,.25,.99","values","0;11"],["fill","freeze","attributeName","opacity","begin","0;svgSpinnersPulseMultiple2.end","calcMode","spline","dur","1.2s","keySplines",".52,.6,.25,.99","values","1;0"],["cx","12","cy","12","r","0","fill","url(#gradient2)"],["id","svgSpinnersPulseMultiple1","fill","freeze","attributeName","r","begin","svgSpinnersPulseMultiple0.begin+0.2s","calcMode","spline","dur","1.2s","keySplines",".52,.6,.25,.99","values","0;11"],["fill","freeze","attributeName","opacity","begin","svgSpinnersPulseMultiple0.begin+0.2s","calcMode","spline","dur","1.2s","keySplines",".52,.6,.25,.99","values","1;0"],["cx","12","cy","12","r","0","fill","url(#gradient3)"],["id","svgSpinnersPulseMultiple2","fill","freeze","attributeName","r","begin","svgSpinnersPulseMultiple0.begin+0.4s","calcMode","spline","dur","1.2s","keySplines",".52,.6,.25,.99","values","0;11"],["fill","freeze","attributeName","opacity","begin","svgSpinnersPulseMultiple0.begin+0.4s","calcMode","spline","dur","1.2s","keySplines",".52,.6,.25,.99","values","1;0"]],template:function(o,r){if(o&1&&(t(0,"section",2),_(1,Ke,13,4,"div",3)(2,Qe,21,0,"ng-template",null,0,$),n()),o&2){let s=Y(3);a(),p("ngIf",r.greetings.length>0)("ngIfElse",s)}},dependencies:[j,z,G,U,H,O]})}return i})();var ue=(()=>{class i{http;apiUrl=W.auth.apiUrl;constructor(e){this.http=e}getPosts(){return this.http.get(`${this.apiUrl}menu/posts`)}updatePost(e,o){return this.http.put(`${this.apiUrl}posts/${e}`,o)}updatePostButton(e,o){return this.http.put(`${this.apiUrl}post-buttons/${e}`,o)}static \u0275fac=function(o){return new(o||i)(L(D))};static \u0275prov=N({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function Je(i,c){if(i&1){let e=b();t(0,"div",13)(1,"b"),l(2),n(),t(3,"span",14),v("click",function(){m(e);let r=u();return g(r.closeMessages())}),x(),t(4,"svg",15),d(5,"path",16),n()()()}if(i&2){let e=u();a(2),f(" ",e.successMessage," ")}}function Xe(i,c){if(i&1){let e=b();t(0,"div",17),l(1),t(2,"span",14),v("click",function(){m(e);let r=u();return g(r.closeMessages())}),x(),t(3,"svg",15),d(4,"path",16),n()()()}if(i&2){let e=u();a(),f(" ",e.errorMessage," ")}}function et(i,c){if(i&1&&(t(0,"figure"),d(1,"img",36),n()),i&2){let e=u(3).$implicit;a(),p("src",e.post_image_url,I)}}function tt(i,c){if(i&1&&(t(0,"div",34),_(1,et,2,1,"figure",35),n()),i&2){let e=u(2).$implicit;a(),p("ngIf",e.post_image_url)}}function it(i,c){if(i&1){let e=b();t(0,"div"),_(1,tt,2,1,"div",27),t(2,"div",28)(3,"p",29),l(4),n(),t(5,"h3",30),l(6),n(),t(7,"p"),l(8),n(),t(9,"div",31)(10,"button",32),v("click",function(){m(e);let r=u().$implicit,s=u(2);return g(s.toggleEdit(r))}),l(11," \u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C "),t(12,"span",33),d(13,"app-edit-icon"),n()()()()()}if(i&2){let e=u().$implicit;a(),p("ngIf",e.post_image_url),a(3),f("ID: ",e.id,""),a(2),f(" ",e.post_title," "),a(2),h(e.post_content)}}function nt(i,c){if(i&1&&(t(0,"figure"),d(1,"img",36),n()),i&2){let e=u(2).$implicit;a(),p("src",e.post_image_url,I)}}function ot(i,c){if(i&1){let e=b();_(0,nt,2,1,"figure",35),t(1,"div",37)(2,"label",38),l(3,"URL \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F:"),n(),t(4,"input",39),C("ngModelChange",function(r){m(e);let s=u().$implicit;return y(s.post_image_url,r)||(s.post_image_url=r),g(r)}),v("blur",function(){m(e);let r=u().$implicit,s=u(2);return g(s.refreshImage(r))}),n(),t(5,"label",40),l(6,"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u043F\u043E\u0441\u0442\u0430:"),n(),t(7,"input",41),C("ngModelChange",function(r){m(e);let s=u().$implicit;return y(s.post_title,r)||(s.post_title=r),g(r)}),n(),t(8,"label",40),l(9,"\u041A\u043E\u043D\u0442\u0435\u043D\u0442 \u043F\u043E\u0441\u0442\u0430:"),n(),t(10,"textarea",42),C("ngModelChange",function(r){m(e);let s=u().$implicit;return y(s.post_content,r)||(s.post_content=r),g(r)}),n(),t(11,"div",43)(12,"button",44),v("click",function(){m(e);let r=u().$implicit,s=u(2);return g(s.saveChanges(r))}),l(13," \u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C "),t(14,"span",45),x(),t(15,"svg",46)(16,"path",47),d(17,"animate",48),n()()()()()()}if(i&2){let e=u().$implicit;p("ngIf",e.post_image_url),a(4),w("ngModel",e.post_image_url),a(3),w("ngModel",e.post_title),a(3),w("ngModel",e.post_content)}}function rt(i,c){if(i&1&&(t(0,"div",60)(1,"span"),l(2),E(3,"date"),n(),t(4,"span"),l(5),E(6,"date"),n()()),i&2){let e=u().$implicit;a(2),f("\u0414\u0430\u0442\u0430 \u0441\u043E\u0437\u0434\u0430\u043D\u0438\u044F ",S(3,2,e.button.created_at,"medium"),""),a(3),f("\u041E\u0431\u043D\u043E\u0432\u043B\u0435\u043D\u0430 ",S(6,5,e.button.updated_at,"medium"),"")}}function at(i,c){if(i&1&&(t(0,"div",69)(1,"span",70),l(2,"\u{1F517} \u0421\u0441\u044B\u043B\u043A\u0430 \u043D\u0430 \u0440\u0435\u0441\u0443\u0440\u0441 \u043A\u0443\u0434\u0430 \u0432\u0432\u0435\u0434\u0435\u0442 \u043A\u043D\u043E\u043F\u043A\u0430 - "),n(),t(3,"b"),l(4),n()()),i&2){let e=u(2).$implicit;a(4),f(" ",e.button.url," ")}}function lt(i,c){if(i&1){let e=b();t(0,"div",61)(1,"div",62)(2,"div",63)(3,"span"),l(4),n()(),t(5,"div",64)(6,"div",65),l(7," Order: "),t(8,"span",66),l(9),n()(),t(10,"span",67),v("click",function(){m(e);let r=u().$implicit,s=u(4);return g(s.toggleButtonEdit(r))}),d(11,"app-edit-icon"),n()()(),_(12,at,5,1,"div",68),n()}if(i&2){let e=u().$implicit;a(4),h(e.button.name),a(5),h(e.button.order),a(3),p("ngIf",e.button.url)}}function st(i,c){if(i&1){let e=b();t(0,"div",71)(1,"div",72)(2,"div",73)(3,"label",40),l(4,"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u043F\u043E\u0441\u0442\u0430:"),n(),t(5,"input",74),C("ngModelChange",function(r){m(e);let s=u().$implicit;return y(s.button.name,r)||(s.button.name=r),g(r)}),n()(),t(6,"div",75)(7,"label",40),l(8,"\u0421\u0441\u044B\u043B\u043A\u0430 \u043D\u0430 \u0440\u0435\u0441\u0443\u0440\u0441(\u043D\u0435\u043E\u0431\u044F\u0437\u0430\u0442\u0435\u043B\u044C\u043D\u043E): "),n(),t(9,"input",76),C("ngModelChange",function(r){m(e);let s=u().$implicit;return y(s.button.url,r)||(s.button.url=r),g(r)}),v("blur",function(){m(e);let r=u(3).$implicit,s=u(2);return g(s.refreshImage(r))}),n()(),t(10,"div",77)(11,"label",40),l(12,"\u041E\u0447\u0435\u0440\u0435\u0434\u043D\u043E\u0441\u0442\u044C:"),n(),t(13,"input",78),C("ngModelChange",function(r){m(e);let s=u().$implicit;return y(s.button.order,r)||(s.button.order=r),g(r)}),n()()(),t(14,"div",79)(15,"span",80),v("click",function(){m(e);let r=u().$implicit,s=u(2).$implicit,P=u(2);return g(P.saveButtonChanges(s,r))}),x(),t(16,"svg",81)(17,"path",47),d(18,"animate",48),n()()(),k(),t(19,"span",82),v("click",function(){m(e);let r=u().$implicit,s=u(4);return g(s.toggleButtonEdit(r))}),x(),t(20,"svg",83)(21,"g",84)(22,"path",85),d(23,"animate",86),n(),t(24,"path",87),d(25,"animate",88),n()()()()()()}if(i&2){let e=u().$implicit;a(5),w("ngModel",e.button.name),a(4),w("ngModel",e.button.url),a(4),w("ngModel",e.button.order)}}function ut(i,c){if(i&1&&(t(0,"div",52),d(1,"input",53),t(2,"div",54),l(3),n(),t(4,"div",55),_(5,rt,7,8,"div",56),t(6,"div",57),_(7,lt,13,3,"div",58)(8,st,26,3,"div",59),n()()()),i&2){let e=c.$implicit,o=u(4);a(3),f(" ",e.button.name," "),a(2),p("ngIf",!o.isEditing),a(2),p("ngIf",!o.isEditing),a(),p("ngIf",o.isEditing)}}function dt(i,c){if(i&1&&(t(0,"div",49)(1,"h4",50),l(2,"\u041A\u043D\u043E\u043F\u043A\u0430(\u0438) \u043F\u043E\u0441\u0442\u0430:"),n(),_(3,ut,9,4,"div",51),n()),i&2){let e=u().$implicit;a(3),p("ngForOf",e.buttons)}}function pt(i,c){if(i&1&&(t(0,"div",19)(1,"div",20)(2,"p",21),l(3),n(),t(4,"div",22)(5,"p",23),l(6),E(7,"date"),n()()(),t(8,"div",24)(9,"div",25),_(10,it,14,4,"div",12)(11,ot,18,4,"ng-template",null,1,$),n(),_(13,dt,4,1,"div",26),n()()),i&2){let e=c.$implicit,o=c.index,r=Y(12);a(3),f(" \u{1F4DD} \u041F\u043E\u0441\u0442 \u2116",o+1," "),a(3),f(" \u0414\u0430\u0442\u0430 \u0441\u043E\u0437\u0434\u0430\u043D\u0438\u044F: ",S(7,5,e.created_at,"medium")," "),a(4),p("ngIf",!e.isEditing)("ngIfElse",r),a(3),p("ngIf",e.buttons==null?null:e.buttons.length)}}function ct(i,c){if(i&1&&(t(0,"div"),_(1,pt,14,8,"div",18),E(2,"filterByParentMenuId"),n()),i&2){let e=u();a(),p("ngForOf",S(2,1,e.posts,e.selectedParentMenuId))}}function mt(i,c){i&1&&(t(0,"div",89),x(),t(1,"svg",90)(2,"defs")(3,"radialGradient",91),d(4,"stop",92)(5,"stop",93),n(),t(6,"radialGradient",94),d(7,"stop",95)(8,"stop",96),n(),t(9,"radialGradient",97),d(10,"stop",98)(11,"stop",99),n()(),t(12,"circle",100),d(13,"animate",101)(14,"animate",102),n(),t(15,"circle",103),d(16,"animate",104)(17,"animate",105),n(),t(18,"circle",106),d(19,"animate",107)(20,"animate",108),n()()())}var Me=(()=>{class i{postService;selectedParentMenuId=null;posts=[];successMessage=null;errorMessage=null;loading=!0;isEditing=!1;isActive=!1;constructor(e){this.postService=e}ngOnInit(){this.loadPosts()}loadPosts(){this.postService.getPosts().subscribe({next:e=>{this.posts=e.map(o=>A(F({},o),{isEditing:!1})),this.loading=!1,console.log("\u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0435 \u043F\u043E\u0441\u0442\u043E\u0432 \u0432 \u043A\u043E\u043C\u043F\u043E\u043D\u0435\u043D\u0442\u0435 \u041F\u041E\u0421\u0422:",this.posts)},error:()=>{this.errorMessage="\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0435 \u043F\u043E\u0441\u0442\u043E\u0432",this.loading=!1}})}toggleEdit(e){e.isEditing=!e.isEditing,this.clearMessages()}saveChanges(e){this.postService.updatePost(e.id,{post_title:e.post_title,post_content:e.post_content,post_image_url:e.post_image_url}).subscribe({next:()=>{this.successMessage="\u041F\u043E\u0441\u0442 \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u043E\u0431\u043D\u043E\u0432\u043B\u0435\u043D!",e.isEditing=!1,setTimeout(()=>{this.closeMessages()},3e3)},error:()=>{this.errorMessage="\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043E\u0431\u043D\u043E\u0432\u043B\u0435\u043D\u0438\u0438 \u043F\u043E\u0441\u0442\u0430"}})}toggleButtonEdit(e){console.log(e),this.isEditing=!this.isEditing,this.clearMessages()}isClickActive(){this.isActive=!this.isActive}saveButtonChanges(e,o){o.button&&o.button.name&&this.postService.updatePostButton(o.id,{button:A(F({},o.button),{name:o.button.name,url:o.button.url})}).subscribe({next:()=>{this.successMessage="\u041A\u043D\u043E\u043F\u043A\u0430 \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u043E\u0431\u043D\u043E\u0432\u043B\u0435\u043D\u0430!",o.isEditing=!1,setTimeout(()=>{this.closeMessages()},3e3)},error:()=>{this.errorMessage="\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043E\u0431\u043D\u043E\u0432\u043B\u0435\u043D\u0438\u0438 \u043A\u043D\u043E\u043F\u043A\u0438"}})}refreshImage(e){console.log("URL \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F \u043E\u0431\u043D\u043E\u0432\u043B\u0435\u043D\u043E:",e.post_image_url),this.clearMessages()}closeMessages(){this.successMessage=null,this.errorMessage=null}clearMessages(){this.successMessage=null,this.errorMessage=null}static \u0275fac=function(o){return new(o||i)(V(ue))};static \u0275cmp=M({type:i,selectors:[["app-posts-bot"]],decls:26,vars:12,consts:[["loading",""],["editMode",""],[1,"posts-bot","w-full"],[1,"title-main","mt-[30px]","mx-auto"],[1,"bg-main-trans2-gradient-90","header-tab","flex","items-center","justify-between","px-[20px]","py-[10px]","rounded-[25px]","w-main","mx-auto"],[1,"title-tab","text-main-trans","font-bold"],[1,"select","select-primary","text-xl","w-fit","block","mx-auto","rounded-[25px]",3,"ngModelChange","ngModel"],[3,"ngValue"],[1,"text-right","flex","gap-2","items-center","rounded-[25px]","bg-main","px-[15px]","py-[5px]"],[1,"font-bold","text-2xl"],["class","alert alert-success mb-4 relative flex justify-between",4,"ngIf"],["class","alert alert-error relative",4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"alert","alert-success","mb-4","relative","flex","justify-between"],[1,"close",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","36","height","36","viewBox","0 0 24 24"],["fill","currentColor","d","M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10s10-4.47 10-10S17.53 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8s8 3.59 8 8s-3.59 8-8 8m3.59-13L12 10.59L8.41 7L7 8.41L10.59 12L7 15.59L8.41 17L12 13.41L15.59 17L17 15.59L13.41 12L17 8.41z"],[1,"alert","alert-error","relative"],["class","card-wrapper bg-main-trans-gradient-0 rounded-[20px] px-[20px] pt-[0] pb-[30px]",4,"ngFor","ngForOf"],[1,"card-wrapper","bg-main-trans-gradient-0","rounded-[20px]","px-[20px]","pt-[0]","pb-[30px]"],[1,"w-main","flex","items-center","justify-between","w-[90%]","mx-auto","pt-[20px]","pb-[20px]"],[1,"text-lg","font-bold","text-indigo-600","nj-toast-gradient"],[1,"card-date","flex","items-center","gap-2"],[1,"text-xs","text-gray-500"],[1,"post-item-wrapper","w-main","mx-auto","flex","flex-col","gap-1"],[1,"card","bg-base-100","mx-auto","hover-shadow-white","cursor-pointer","w-full"],["class","flex flex-col gap-2",4,"ngIf"],["class","img-wrapper w-full h-[350px] relative",4,"ngIf"],[1,"card-body"],[1,"text-indigo-600"],[1,"text-xl","text-indigo-400","font-bold"],[1,"card-actions","justify-center","pt-[20px]"],[1,"btn","btn-ghost","pr-0",3,"click"],[1,"btn","btn-primary"],[1,"img-wrapper","w-full","h-[350px]","relative"],[4,"ngIf"],["alt","Post Image",3,"src"],[1,"p-4"],[1,"block","text-sm","text-indigo-400","font-bold","mt-4"],["placeholder","https://example.com/image.jpg",1,"input","w-full","mt-2","mb-4","border","border-gray-300","rounded-lg","px-4","py-2.5","focus:ring","focus:ring-blue-300","focus:ring-opacity-40",3,"ngModelChange","blur","ngModel"],[1,"block","text-sm","text-indigo-400","font-bold"],["placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u0433\u043E\u043B\u043E\u0432\u043E\u043A",1,"input","w-full","mt-2","mb-4","border","border-gray-300","rounded-lg","px-4","py-2.5","focus:ring","focus:ring-blue-300","focus:ring-opacity-40",3,"ngModelChange","ngModel"],["placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043A\u043E\u043D\u0442\u0435\u043D\u0442 \u043F\u043E\u0441\u0442\u0430",1,"w-full","h-40","border","rounded-lg","px-4","py-2","focus:ring","focus:ring-blue-300","focus:ring-opacity-40",3,"ngModelChange","ngModel"],[1,"card-actions","justify-center","pt-4"],[1,"btn","pr-0","text-success",3,"click"],[1,"btn","btn-accent"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","viewBox","0 0 24 24"],["fill","none","stroke","#fff","stroke-dasharray","24","stroke-dashoffset","24","stroke-linecap","round","stroke-linejoin","round","stroke-width","2.7","d","M5 11l6 6l10 -10"],["fill","freeze","attributeName","stroke-dashoffset","dur","0.96s","values","24;0"],[1,"flex","flex-col","gap-2"],[1,"text-lg","font-bold","text-white"],["class","bg-reg collapse collapse-arrow hover-shadow-white",4,"ngFor","ngForOf"],[1,"bg-reg","collapse","collapse-arrow","hover-shadow-white"],["type","checkbox",1,"peer"],[1,"collapse-title","text-indigo-400","bg-reg","peer-checked:bg-primary","peer-checked:text-white","font-bold","text-lg"],[1,"collapse-content","bg-reg"],["class","sub-btn-date flex justify-between text-gray-400 text-xs pt-4 pb-4 px-4",4,"ngIf"],[1,"sub-btn-body-wrapper"],["class","sub-btn-body flex flex-col",4,"ngIf"],["class","flex items-center",4,"ngIf"],[1,"sub-btn-date","flex","justify-between","text-gray-400","text-xs","pt-4","pb-4","px-4"],[1,"sub-btn-body","flex","flex-col"],[1,"flex","justify-between","items-center"],[1,"sub-btn-body-title","text-lg","font-bold","text-indigo-400","flex","gap-2"],[1,"sub-btn-body-order","font-bold","flex","gap-4","items-center"],[1,"order"],[1,"nj-toast-trans"],[1,"btn","btn-primary",3,"click"],["class","sub-btn-url",4,"ngIf"],[1,"sub-btn-url"],[1,"text-gray-500","text-sm"],[1,"flex","items-center"],[1,"form-group-wrapper","flex","flex-1","items-center","gap-4","pt-4"],[1,"form-group","w-[30%]"],["placeholder","\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0437\u0430\u0433\u043E\u043B\u043E\u0432\u043E\u043A",1,"input","w-full","mt-2","mb-4","border","border-gray-300","rounded-lg","px-4","py-2.5","focus:ring","focus:ring-blue-300","focus:ring-opacity-40",3,"ngModelChange","ngModel"],[1,"form-group","w-[50%]"],["placeholder","\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C URL \u043A\u043D\u043E\u043F\u043A\u0438",1,"input","w-full","mt-2","mb-4","border","border-gray-300","rounded-lg","px-4","py-2.5","focus:ring","focus:ring-blue-300","focus:ring-opacity-40",3,"ngModelChange","blur","ngModel"],[1,"form-group","w-[12.5%]"],["disabled","","placeholder","",1,"input","w-full","mt-2","mb-4","border","border-gray-300","rounded-lg","px-4","py-2.5","focus:ring","focus:ring-blue-300","focus:ring-opacity-40",3,"ngModelChange","ngModel"],[1,"btn-group","flex","items-center","gap-2","pt-5"],[1,"btn","btn-accent",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","25","height","25","viewBox","0 0 24 24"],[1,"btn","btn-error",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","viewBox","0 0 24 24","cl",""],["fill","none","stroke","#fffFFF","stroke-dasharray","16","stroke-dashoffset","16","stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],["d","M7 7l10 10"],["fill","freeze","attributeName","stroke-dashoffset","dur","0.4s","values","16;0"],["d","M17 7l-10 10"],["fill","freeze","attributeName","stroke-dashoffset","begin","0.4s","dur","0.4s","values","16;0"],[1,"isLoading","fixed","z-10"],["xmlns","http://www.w3.org/2000/svg","width","300","height","300","viewBox","0 0 24 24",1,""],["id","gradient1","cx","50%","cy","50%","r","50%"],["offset","0%","stop-color","oklch(51.01% 0.274 263.83)"],["offset","100%","stop-color","#4f45e5"],["id","gradient2","cx","50%","cy","50%","r","50%"],["offset","0%","stop-color","oklch(47.66% 0.246 305.88)"],["offset","100%","stop-color","#818cf8"],["id","gradient3","cx","50%","cy","50%","r","50%"],["offset","0%","stop-color","#4f45e5"],["offset","100%","stop-color","#8845e5"],["cx","12","cy","12","r","0","fill","url(#gradient1)"],["id","svgSpinnersPulseMultiple0","fill","freeze","attributeName","r","begin","0;svgSpinnersPulseMultiple2.end","calcMode","spline","dur","1.2s","keySplines",".52,.6,.25,.99","values","0;11"],["fill","freeze","attributeName","opacity","begin","0;svgSpinnersPulseMultiple2.end","calcMode","spline","dur","1.2s","keySplines",".52,.6,.25,.99","values","1;0"],["cx","12","cy","12","r","0","fill","url(#gradient2)"],["id","svgSpinnersPulseMultiple1","fill","freeze","attributeName","r","begin","svgSpinnersPulseMultiple0.begin+0.2s","calcMode","spline","dur","1.2s","keySplines",".52,.6,.25,.99","values","0;11"],["fill","freeze","attributeName","opacity","begin","svgSpinnersPulseMultiple0.begin+0.2s","calcMode","spline","dur","1.2s","keySplines",".52,.6,.25,.99","values","1;0"],["cx","12","cy","12","r","0","fill","url(#gradient3)"],["id","svgSpinnersPulseMultiple2","fill","freeze","attributeName","r","begin","svgSpinnersPulseMultiple0.begin+0.4s","calcMode","spline","dur","1.2s","keySplines",".52,.6,.25,.99","values","0;11"],["fill","freeze","attributeName","opacity","begin","svgSpinnersPulseMultiple0.begin+0.4s","calcMode","spline","dur","1.2s","keySplines",".52,.6,.25,.99","values","1;0"]],template:function(o,r){if(o&1){let s=b();t(0,"section",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"select",6),C("ngModelChange",function(T){return m(s),y(r.selectedParentMenuId,T)||(r.selectedParentMenuId=T),g(T)}),t(5,"option",7),l(6,"\u0412\u0441\u0435 \u043F\u043E\u0441\u0442\u044B"),n(),t(7,"option",7),l(8,"1 - Social button"),n(),t(9,"option",7),l(10,"2 - Top slots"),n(),t(11,"option",7),l(12,"3 - News"),n(),t(13,"option",7),l(14,"4 - Sport"),n(),t(15,"option",7),l(16,"5 - Casino"),n()()(),t(17,"p",8),l(18," \u0412\u0441\u0435\u0433\u043E \u043F\u043E\u0441\u0442\u043E\u0432: "),t(19,"span",9),l(20),n()()()(),_(21,Je,6,1,"div",10)(22,Xe,5,1,"div",11)(23,ct,3,4,"div",12)(24,mt,21,0,"ng-template",null,0,$),n()}if(o&2){let s=Y(25);a(4),w("ngModel",r.selectedParentMenuId),a(),p("ngValue",null),a(2),p("ngValue",1),a(2),p("ngValue",2),a(2),p("ngValue",3),a(2),p("ngValue",4),a(2),p("ngValue",5),a(5),h(r.selectedParentMenuId?r.selectedParentMenuId:r.posts.length),a(),p("ngIf",r.successMessage),a(),p("ngIf",r.errorMessage),a(),p("ngIf",r.posts.length>0)("ngIfElse",s)}},dependencies:[j,z,R,re,ae,G,oe,U,H,O,we],styles:[".tabs-title-input[_ngcontent-%COMP%]{transition:.3s ease-in;border-radius:20px}.tabs-title-input[_ngcontent-%COMP%]:hover:after{-webkit-backdrop-filter:brightness(2);backdrop-filter:brightness(2);transition:.3s ease-in}"]})}return i})();var ke=(()=>{class i{http;apiUrl=W.auth.apiUrl;constructor(e){this.http=e}getMenuTables(){return this.http.get(`${this.apiUrl}menu/tables`)}updateMenuTable(e,o){return this.http.put(`${this.apiUrl}menu/tables/${e}`,o)}static \u0275fac=function(o){return new(o||i)(L(D))};static \u0275prov=N({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Be=(()=>{class i{http;apiUrl=`${W.auth.apiUrl}post-buttons/`;constructor(e){this.http=e}getPostButtons(){return this.http.get(this.apiUrl)}getPostButtonById(e){return this.http.get(`${this.apiUrl}${e}`)}updatePostButton(e,o){return this.http.put(`${this.apiUrl}${e}`,o)}static \u0275fac=function(o){return new(o||i)(L(D))};static \u0275prov=N({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Ie=i=>({"bg-gradient":i});function xt(i,c){if(i&1){let e=b();t(0,"div",8)(1,"b"),l(2),n(),t(3,"span",9),v("click",function(){m(e);let r=u();return g(r.closeMessages())}),x(),t(4,"svg",10),d(5,"path",11),n()()()}if(i&2){let e=u();a(2),f(" ",e.successMessage," ")}}function vt(i,c){if(i&1){let e=b();t(0,"div",12),l(1),t(2,"span",9),v("click",function(){m(e);let r=u();return g(r.closeMessages())}),x(),t(3,"svg",10),d(4,"path",11),n()()()}if(i&2){let e=u();a(),f(" ",e.errorMessage," ")}}function bt(i,c){if(i&1){let e=b();t(0,"span",41),v("click",function(){m(e);let r=u(3),s=r.$implicit,P=r.index,T=u();return g(T.togleEdit(s,P))}),d(1,"app-edit-icon"),n()}}function ht(i,c){if(i&1&&(t(0,"figure"),d(1,"img",42),n()),i&2){let e=u(3).$implicit;a(),p("src",e.linked_post==null?null:e.linked_post.post_image_url,I)}}function wt(i,c){if(i&1&&(t(0,"div",43)(1,"p",20),l(2),n(),t(3,"h3",44),l(4),n(),t(5,"p"),l(6),n(),d(7,"div",45),n()),i&2){let e=u(3).$implicit;a(2),f("ID: ",e==null||e.linked_post==null?null:e.linked_post.id,""),a(2),f(" ",e==null||e.linked_post==null?null:e.linked_post.post_title," "),a(2),h(e==null||e.linked_post==null?null:e.linked_post.post_content)}}function yt(i,c){i&1&&(t(0,"p",46)(1,"span",47),l(2," \u0423 \u043A\u043D\u043E\u043F\u043A\u0438 \u043D\u0435\u0442 \u043F\u043E\u0441\u0442\u0430,\u043D\u043E \u0435\u0441\u0442\u044C \u0434\u043E\u0447\u0435\u0440\u043D\u0438\u0435 \u043A\u043D\u043E\u043F\u043A\u0438 "),n(),l(3," 4. Sport "),d(4,"br"),l(5," 5. Casino "),n())}function Ct(i,c){if(i&1&&(t(0,"div",59)(1,"span"),l(2),E(3,"date"),n(),t(4,"span"),l(5),E(6,"date"),n()()),i&2){let e=u().$implicit;a(2),f("\u0414\u0430\u0442\u0430 \u0441\u043E\u0437\u0434\u0430\u043D\u0438\u044F ",S(3,2,e.created_at,"medium"),""),a(3),f("\u041E\u0431\u043D\u043E\u0432\u043B\u0435\u043D\u0430 ",S(6,5,e.updated_at,"medium"),"")}}function Et(i,c){if(i&1&&(t(0,"div",66),l(1),n()),i&2){let e=u(2).$implicit;a(),f(" Url: ",e.url," ")}}function St(i,c){if(i&1&&(t(0,"div",60)(1,"div",61)(2,"span"),l(3),n()(),t(4,"div",62)(5,"div",63),l(6," Order: "),t(7,"span",64),l(8),n()()(),_(9,Et,2,1,"div",65),n()),i&2){let e=u().$implicit;a(3),h(e.name),a(5),h(e.order),a(),p("ngIf",e.url)}}function Mt(i,c){if(i&1){let e=b();t(0,"div",67)(1,"div",68)(2,"div",69)(3,"label",70),l(4,"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u043F\u043E\u0441\u0442\u0430:"),n(),t(5,"input",71),C("ngModelChange",function(r){m(e);let s=u().$implicit;return y(s.name,r)||(s.name=r),g(r)}),n()(),t(6,"div",72)(7,"label",70),l(8,"\u0421\u0441\u044B\u043B\u043A\u0430 \u043D\u0430 \u0440\u0435\u0441\u0443\u0440\u0441(\u043D\u0435\u043E\u0431\u044F\u0437\u0430\u0442\u0435\u043B\u044C\u043D\u044B\u0439 \u043F\u0430\u0440\u0430\u043C\u0435\u0442\u0440):"),n(),t(9,"input",73),C("ngModelChange",function(r){m(e);let s=u().$implicit;return y(s.url,r)||(s.url=r),g(r)}),n()(),t(10,"div",74)(11,"label",70),l(12,"\u041E\u0447\u0435\u0440\u0435\u0434\u043D\u043E\u0441\u0442\u044C:"),n(),t(13,"input",75),C("ngModelChange",function(r){m(e);let s=u().$implicit;return y(s.order,r)||(s.order=r),g(r)}),n()()(),t(14,"div",76)(15,"span",77),x(),t(16,"svg",78)(17,"path",79),d(18,"animate",80),n()()(),k(),t(19,"span",81),x(),t(20,"svg",82)(21,"g",83)(22,"path",84),d(23,"animate",85),n(),t(24,"path",86),d(25,"animate",87),n()()()()()()}if(i&2){let e=u().$implicit;a(5),w("ngModel",e.name),a(4),w("ngModel",e.url),a(4),w("ngModel",e.order)}}function kt(i,c){if(i&1&&(t(0,"div",51),d(1,"input",52),t(2,"div",53),l(3),n(),t(4,"div",54),_(5,Ct,7,8,"div",55),t(6,"div",56),_(7,St,10,3,"div",57)(8,Mt,26,3,"div",58),n()()()),i&2){let e=c.$implicit,o=u(5);a(3),f(" ",e.name," "),a(2),p("ngIf",!o.isEditing),a(2),p("ngIf",!o.isEditing),a(),p("ngIf",o.isEditing)}}function Bt(i,c){if(i&1&&(t(0,"div",48)(1,"h4",49),l(2," \u041A\u043D\u043E\u043F\u043A\u0430(\u0438) \u043F\u043E\u0441\u0442\u0430: "),n(),_(3,kt,9,4,"div",50),n()),i&2){let e=u(3).$implicit;a(3),p("ngForOf",e.buttons)}}function It(i,c){if(i&1){let e=b();t(0,"div",17)(1,"input",18),v("click",function(){m(e);let r=u(2).index,s=u();return g(s.toggleClick(r))}),n(),t(2,"div",19)(3,"h3",20)(4,"span",21),l(5),n(),l(6),n(),_(7,bt,2,0,"span",22),n(),t(8,"div",23)(9,"div",24)(10,"span",25),l(11," Level menu: "),t(12,"span",26),l(13),n()(),t(14,"p",27),l(15),E(16,"date"),n()(),t(17,"div",28)(18,"h3",29)(19,"span",30),l(20,"After button click"),n(),x(),t(21,"svg",31)(22,"g",32)(23,"path",33),d(24,"animate",34),n(),t(25,"path",35),d(26,"animate",36),n()()()(),k(),t(27,"div",37),_(28,ht,2,1,"figure",14)(29,wt,8,3,"div",38)(30,yt,6,0,"p",39),n(),_(31,Bt,4,1,"div",40),n()()()}if(i&2){let e=u(2),o=e.$implicit,r=e.index,s=u();a(2),p("ngClass",X(13,Ie,s.activeIndexes.has(r))),a(3),h(o.order),a(),f("",o.name," "),a(),p("ngIf",s.activeIndexes.has(r)),a(6),h(o.isActive?1:2),a(2),f(" Last update ",S(16,10,o.updated_at,"medium")," "),a(13),p("ngIf",o.linked_post==null?null:o.linked_post.post_image_url),a(),p("ngIf",o.linked_post),a(),p("ngIf",!o.linked_post),a(),p("ngIf",o.buttons==null?null:o.buttons.length)}}function Pt(i,c){if(i&1){let e=b();t(0,"span",41),v("click",function(){m(e);let r=u(4),s=r.$implicit,P=r.index,T=u();return g(T.togleEdit(s,P))}),d(1,"app-edit-icon"),n()}}function Tt(i,c){if(i&1&&(t(0,"figure"),d(1,"img",42),n()),i&2){let e=u(4).$implicit;a(),p("src",e.linked_post==null?null:e.linked_post.post_image_url,I)}}function Vt(i,c){if(i&1&&(t(0,"div",43)(1,"p",20),l(2),n(),t(3,"h3",44),l(4),n(),t(5,"p"),l(6),n(),d(7,"div",45),n()),i&2){let e=u(4).$implicit;a(2),f(" ID: ",e==null||e.linked_post==null?null:e.linked_post.id," "),a(2),f(" ",e==null||e.linked_post==null?null:e.linked_post.post_title," "),a(2),h(e==null||e.linked_post==null?null:e.linked_post.post_content)}}function Dt(i,c){if(i&1&&(t(0,"p",89),l(1),n()),i&2){let e=u(4).$implicit;a(),f(" \u0423 \u043A\u043D\u043E\u043F\u043A\u0438 \u043D\u0435\u0442 \u043F\u043E\u0441\u0442\u0430,\u0430 \u0435\u0441\u0442\u044C \u0434\u043E\u0447\u0435\u0440\u043D\u0438\u0435 \u043A\u043D\u043E\u043F\u043A\u0438 \u0441 \u0440\u043E\u0434\u0438\u0442\u0435\u043B\u044C\u0441\u043A\u0438\u043C ID ",e.parentId," ")}}function Ft(i,c){if(i&1&&(t(0,"div",59)(1,"span"),l(2),E(3,"date"),n(),t(4,"span"),l(5),E(6,"date"),n()()),i&2){let e=u().$implicit;a(2),f("\u0414\u0430\u0442\u0430 \u0441\u043E\u0437\u0434\u0430\u043D\u0438\u044F ",S(3,2,e.created_at,"medium"),""),a(3),f("\u041E\u0431\u043D\u043E\u0432\u043B\u0435\u043D\u0430 ",S(6,5,e.updated_at,"medium"),"")}}function At(i,c){if(i&1&&(t(0,"div",66),l(1),n()),i&2){let e=u(2).$implicit;a(),f(" Url: ",e.url," ")}}function Nt(i,c){if(i&1&&(t(0,"div",60)(1,"div",61)(2,"span"),l(3),n()(),t(4,"div",62)(5,"div",63),l(6," Order: "),t(7,"span",64),l(8),n()()(),_(9,At,2,1,"div",65),n()),i&2){let e=u().$implicit;a(3),h(e.name),a(5),h(e.order),a(),p("ngIf",e.url)}}function Lt(i,c){if(i&1){let e=b();t(0,"div",67)(1,"div",68)(2,"div",69)(3,"label",70),l(4,"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u043F\u043E\u0441\u0442\u0430:"),n(),t(5,"input",71),C("ngModelChange",function(r){m(e);let s=u().$implicit;return y(s.name,r)||(s.name=r),g(r)}),n()(),t(6,"div",72)(7,"label",70),l(8,"\u0421\u0441\u044B\u043B\u043A\u0430 \u043D\u0430 \u0440\u0435\u0441\u0443\u0440\u0441(\u043D\u0435\u043E\u0431\u044F\u0437\u0430\u0442\u0435\u043B\u044C\u043D\u044B\u0439 \u043F\u0430\u0440\u0430\u043C\u0435\u0442\u0440):"),n(),t(9,"input",73),C("ngModelChange",function(r){m(e);let s=u().$implicit;return y(s.url,r)||(s.url=r),g(r)}),n()(),t(10,"div",74)(11,"label",70),l(12,"\u041E\u0447\u0435\u0440\u0435\u0434\u043D\u043E\u0441\u0442\u044C:"),n(),t(13,"input",75),C("ngModelChange",function(r){m(e);let s=u().$implicit;return y(s.order,r)||(s.order=r),g(r)}),n()()(),t(14,"div",76)(15,"span",77),x(),t(16,"svg",78)(17,"path",79),d(18,"animate",80),n()()(),k(),t(19,"span",81),x(),t(20,"svg",82)(21,"g",83)(22,"path",84),d(23,"animate",85),n(),t(24,"path",86),d(25,"animate",87),n()()()()()()}if(i&2){let e=u().$implicit;a(5),w("ngModel",e.name),a(4),w("ngModel",e.url),a(4),w("ngModel",e.order)}}function jt(i,c){if(i&1&&(t(0,"div",51),d(1,"input",52),t(2,"div",53),l(3),n(),t(4,"div",54),_(5,Ft,7,8,"div",55),t(6,"div",56),_(7,Nt,10,3,"div",57)(8,Lt,26,3,"div",58),n()()()),i&2){let e=c.$implicit,o=u(6);a(3),f(" ",e.name," "),a(2),p("ngIf",!o.isEditing),a(2),p("ngIf",!o.isEditing),a(),p("ngIf",o.isEditing)}}function zt(i,c){if(i&1&&(t(0,"div",48)(1,"h4",49),l(2," \u041A\u043D\u043E\u043F\u043A\u0430(\u0438) \u043F\u043E\u0441\u0442\u0430: "),n(),_(3,jt,9,4,"div",50),n()),i&2){let e=u(4).$implicit;a(3),p("ngForOf",e.buttons)}}function Ot(i,c){if(i&1){let e=b();t(0,"div",17)(1,"input",18),v("click",function(){m(e);let r=u(3).index,s=u();return g(s.toggleClick(r))}),n(),t(2,"div",19)(3,"h3",20)(4,"span",21),l(5),n(),l(6),n(),_(7,Pt,2,0,"span",22),n(),t(8,"div",23)(9,"div",24)(10,"span",25),l(11," Level menu: "),t(12,"span",26),l(13),n()(),t(14,"p",27),l(15),E(16,"date"),n()(),t(17,"div",28)(18,"h3",29)(19,"span",30),l(20,"After button click"),n(),x(),t(21,"svg",31)(22,"g",32)(23,"path",33),d(24,"animate",34),n(),t(25,"path",35),d(26,"animate",36),n()()()(),k(),t(27,"div",37),_(28,Tt,2,1,"figure",14)(29,Vt,8,3,"div",38)(30,Dt,2,1,"p",88),n(),_(31,zt,4,1,"div",40),n()()()}if(i&2){let e=u(3),o=e.$implicit,r=e.index,s=u();a(2),p("ngClass",X(13,Ie,s.activeIndexes.has(r))),a(3),h(o.order),a(),f("",o.name," "),a(),p("ngIf",s.activeIndexes.has(r)),a(6),h(o.isActive?1:2),a(2),f(" Last update ",S(16,10,o.updated_at,"medium")," "),a(13),p("ngIf",o.linked_post==null?null:o.linked_post.post_image_url),a(),p("ngIf",o.linked_post),a(),p("ngIf",!o.linked_post),a(),p("ngIf",o.buttons==null?null:o.buttons.length)}}function Wt(i,c){if(i&1&&(t(0,"div"),_(1,Ot,32,15,"div",16),n()),i&2){let e=u(2).$implicit;a(),p("ngIf",e.parentId)}}function $t(i,c){if(i&1&&(t(0,"div"),_(1,It,32,15,"div",16)(2,Wt,2,1,"div",14),n()),i&2){let e=u().$implicit,o=u();a(),p("ngIf",!e.parentId),a(),p("ngIf",o.isActive)}}function Gt(i,c){if(i&1){let e=b();t(0,"div",90)(1,"label",70),l(2,"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u043A\u043D\u043E\u043F\u043A\u0438:"),n(),t(3,"input",91),C("ngModelChange",function(r){m(e);let s=u().$implicit;return y(s.name,r)||(s.name=r),g(r)}),n(),t(4,"label",70),l(5,"\u041F\u043E\u0437\u0438\u0446\u0438\u044F \u043A\u043D\u043E\u043F\u043A\u0438 \u2116"),n(),t(6,"input",92),C("ngModelChange",function(r){m(e);let s=u().$implicit;return y(s.order,r)||(s.order=r),g(r)}),n(),t(7,"label",70),l(8,"\u041A\u043E\u043D\u0442\u0435\u043D\u0442 \u043F\u043E\u0441\u0442\u0430:"),n(),t(9,"textarea",93),C("ngModelChange",function(r){m(e);let s=u().$implicit;return y(s.description,r)||(s.description=r),g(r)}),n(),t(10,"div",94)(11,"button",95),v("click",function(){m(e);let r=u().$implicit,s=u();return g(s.saveChanges(r))}),l(12," \u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C "),t(13,"span",77),x(),t(14,"svg",82)(15,"path",79),d(16,"animate",80),n()()()()()()}if(i&2){let e=u().$implicit;a(3),w("ngModel",e.name),a(3),w("ngModel",e.order),a(3),w("ngModel",e.description)}}function Ut(i,c){if(i&1&&(t(0,"div",13),_(1,$t,3,2,"div",14)(2,Gt,17,3,"div",15),n()),i&2){let e=c.$implicit;a(),p("ngIf",!e.isEditing),a(),p("ngIf",e.isEditing)}}var Pe=(()=>{class i{menuService;inlineButtonsService;postBotService;menuTables=[];menuPosts=[];successMessage=null;errorMessage=null;activeIndex=null;isEditing=!1;isActive=!1;activeIndexes=new Set;constructor(e,o,r){this.menuService=e,this.inlineButtonsService=o,this.postBotService=r}ngOnInit(){this.loadMenuTables()}loadMenuTables(){this.menuService.getMenuTables().subscribe({next:e=>{this.menuTables=e.map(o=>A(F({},o),{isEditing:!1,buttons:[]})),console.log("\u2705 \u0417\u0430\u0433\u0440\u0443\u0436\u0435\u043D\u043E menuTables:",this.menuTables),this.loadPosts()},error:()=>{this.errorMessage="\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0435 \u0434\u0430\u043D\u043D\u044B\u0445"}})}loadPosts(){this.postBotService.getPosts().subscribe({next:e=>{this.menuPosts=e,this.linkButtonsToTables()},error:()=>{this.errorMessage="\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0435 \u043F\u043E\u0441\u0442\u043E\u0432"}})}linkButtonsToTables(){this.menuTables.forEach(e=>{if(e.linked_post){let o=this.menuPosts.find(r=>r.id===e.linked_post.id);o&&(e.buttons=o.buttons?.map(r=>r.button)||[])}})}loadPostButtons(){this.inlineButtonsService.getPostButtons().subscribe({next:e=>{console.log("\u{1F539} \u0417\u0430\u0433\u0440\u0443\u0436\u0435\u043D\u044B \u0441\u0432\u044F\u0437\u0438 \u043F\u043E\u0441\u0442\u043E\u0432 \u0438 \u043A\u043D\u043E\u043F\u043E\u043A:",e),this.menuTables.forEach(o=>{o.linked_post&&(o.buttons=e.filter(r=>r.post.id===o.linked_post.id).map(r=>r.button))}),console.log("\u2705 \u0421\u0432\u044F\u0437\u0430\u043D\u043D\u044B\u0435 \u043A\u043D\u043E\u043F\u043A\u0438 \u0434\u043E\u0431\u0430\u0432\u043B\u0435\u043D\u044B:",this.menuTables)},error:()=>{this.errorMessage="\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0435 \u043A\u043D\u043E\u043F\u043E\u043A \u043F\u043E\u0441\u0442\u043E\u0432"}})}saveChanges(e){this.menuService.updateMenuTable(e.id,e).subscribe({next:()=>{this.successMessage="\u0418\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u044F \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u044B!",e.isEditing=!1,setTimeout(()=>{this.closeMessages()},3e3)},error:()=>{this.errorMessage="\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u0438\u0438 \u0434\u0430\u043D\u043D\u044B\u0445"}}),this.isEditing=!1}clearMessages(){this.successMessage=null,this.errorMessage=null}closeMessages(){this.successMessage=null,this.errorMessage=null}toggleClick(e){this.isEditing=!this.isEditing,e===2&&this.menuTables.map(o=>{this.isActive=!0,console.log("btn",o)}),this.activeIndexes.has(e)?this.activeIndexes.delete(e):this.activeIndexes.add(e),console.log(this.activeIndexes)}togleEdit(e,o){e.isEditing=!e.isEditing,this.activeIndexes.has(o)?this.activeIndexes.delete(o):this.activeIndexes.add(o)}cancelEdit(e){e.isEditing=!1,this.clearMessages()}static \u0275fac=function(o){return new(o||i)(V(ke),V(Be),V(ue))};static \u0275cmp=M({type:i,selectors:[["app-menu-buttons"]],decls:11,vars:4,consts:[[1,"menu-buttons","bg-main-trans-gradient-0","pb-[30px]","min-h-full","h-fit"],[1,"bg-main-trans2-gradient-90","header-tab","flex","items-center","justify-between","px-[20px]","py-[10px]","my-[30px]","rounded-[20px]","w-[70%]","mx-auto"],[1,"title-tab","text-xl","text-main-trans","font-bold"],[1,"text-right","flex","gap-2","items-center","rounded-[20px]","bg-main","px-[15px]","py-[5px]"],[1,"font-bold","text-2xl"],["class","alert alert-success mb-4 relative flex justify-between",4,"ngIf"],["class","alert alert-error relative",4,"ngIf"],["class","w-[80%] mx-auto",4,"ngFor","ngForOf"],[1,"alert","alert-success","mb-4","relative","flex","justify-between"],[1,"close",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","36","height","36","viewBox","0 0 24 24"],["fill","currentColor","d","M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10s10-4.47 10-10S17.53 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8s8 3.59 8 8s-3.59 8-8 8m3.59-13L12 10.59L8.41 7L7 8.41L10.59 12L7 15.59L8.41 17L12 13.41L15.59 17L17 15.59L13.41 12L17 8.41z"],[1,"alert","alert-error","relative"],[1,"w-[80%]","mx-auto"],[4,"ngIf"],["class","collapse hover-shadow collapse-plus card-body bg-reg my-4 rounded-xl p-[20px] pb-[10px]",4,"ngIf"],["class","collapse hover-shadow-white card-body bg-reg my-4 rounded-xl p-[20px] pb-0 collapse-arrow pt-[10px]",4,"ngIf"],[1,"collapse","hover-shadow-white","card-body","bg-reg","my-4","rounded-xl","p-[20px]","pb-0","collapse-arrow","pt-[10px]"],["type","checkbox",3,"click"],[1,"collapse-title","text-xl","font-medium","flex","items-center","justify-between",3,"ngClass"],[1,"text-indigo-600"],[1,"text-indigo-600","pr-2"],["class","btn btn-outline hover:bg-regular absolute right-0 bg-reg text-indigo-400 z-10",3,"click",4,"ngIf"],[1,"collapse-content","pb-0","px-0"],[1,"flex","justify-between","pt-4","pb-0","items-center"],[1,"text-sm"],[1,"nj-toast"],[1,"text-end","text-gray-400","text-xs","flex-auto"],[1,"menu-post-item","mb-[40px]"],[1,"text-xl","text-indigo-600","font-bold","py-4","text-center","flex","flex-col","gap-2","items-center","px-0"],[1,"nj-toast-gradient"],["xmlns","http://www.w3.org/2000/svg","width","40","height","40","viewBox","0 0 24 24"],["fill","none","stroke","#5045e5ac","stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],["stroke-dasharray","20","stroke-dashoffset","20","d","M12 3l0 17.5"],["fill","freeze","attributeName","stroke-dashoffset","dur","0.2s","values","20;0"],["stroke-dasharray","12","stroke-dashoffset","12","d","M12 21l7 -7M12 21l-7 -7"],["fill","freeze","attributeName","stroke-dashoffset","begin","0.2s","dur","0.2s","values","12;0"],[1,"card","bg-base-100","mx-auto","w-[100%]","shadow-xl"],["class","card-body p-[10px]",4,"ngIf"],["class","p-10 text-start text-xl text-indigo-400 font-bold",4,"ngIf"],["class","flex flex-col gap-2",4,"ngIf"],[1,"btn","btn-outline","hover:bg-regular","absolute","right-0","bg-reg","text-indigo-400","z-10",3,"click"],["alt","Post Image",3,"src"],[1,"card-body","p-[10px]"],[1,"text-xl","text-indigo-400","font-bold"],[1,"card-actions","justify-center","pt-[20px]"],[1,"p-10","text-start","text-xl","text-indigo-400","font-bold"],[1,"text-gray-400","pb-[5px]","text-lg","block","w-fit","mx-auto"],[1,"flex","flex-col","gap-2"],[1,"text-lg","font-bold","text-indigo-400","pt-4"],["class","collapse collapse-arrow card bg-base-100 mx-auto w-[100%] shadow-xl",4,"ngFor","ngForOf"],[1,"collapse","collapse-arrow","card","bg-base-100","mx-auto","w-[100%]","shadow-xl"],["type","checkbox",1,"peer"],[1,"collapse-title","text-indigo-400","bg-reg","peer-checked:bg-primary","peer-checked:text-white","font-bold","text-lg"],[1,"collapse-content","bg-reg","pb-0"],["class","sub-btn-date flex justify-between text-gray-400 text-xs py-2 px-4",4,"ngIf"],[1,"sub-btn-body-wrapper"],["class","sub-btn-body flex justify-between items-center",4,"ngIf"],["class","flex items-center",4,"ngIf"],[1,"sub-btn-date","flex","justify-between","text-gray-400","text-xs","py-2","px-4"],[1,"sub-btn-body","flex","justify-between","items-center"],[1,"sub-btn-body-title","text-lg","font-bold","text-indigo-400","flex","gap-2"],[1,"sub-btn-body-order","font-bold","flex","gap-4","items-center"],[1,"order"],[1,"nj-toast-trans"],["class","sub-btn-url",4,"ngIf"],[1,"sub-btn-url"],[1,"flex","items-center"],[1,"form-group-wrapper","flex","flex-1","items-center","gap-4","pt-4"],[1,"form-group","w-[30%]"],[1,"block","text-sm","text-indigo-400","font-bold"],["placeholder","\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0437\u0430\u0433\u043E\u043B\u043E\u0432\u043E\u043A",1,"input","w-full","mt-2","mb-4","border","border-gray-300","rounded-lg","px-4","py-2.5","focus:ring","focus:ring-blue-300","focus:ring-opacity-40",3,"ngModelChange","ngModel"],[1,"form-group","w-[50%]"],["placeholder","\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C URL \u043A\u043D\u043E\u043F\u043A\u0438",1,"input","w-full","mt-2","mb-4","border","border-gray-300","rounded-lg","px-4","py-2.5","focus:ring","focus:ring-blue-300","focus:ring-opacity-40",3,"ngModelChange","ngModel"],[1,"form-group","w-[12.5%]"],["disabled","","placeholder","",1,"input","w-full","mt-2","mb-4","border","border-gray-300","rounded-lg","px-4","py-2.5","focus:ring","focus:ring-blue-300","focus:ring-opacity-40",3,"ngModelChange","ngModel"],[1,"btn-group","flex","items-center","gap-2","pt-5"],[1,"btn","btn-accent"],["xmlns","http://www.w3.org/2000/svg","width","25","height","25","viewBox","0 0 24 24"],["fill","none","stroke","#fff","stroke-dasharray","24","stroke-dashoffset","24","stroke-linecap","round","stroke-linejoin","round","stroke-width","2.7","d","M5 11l6 6l10 -10"],["fill","freeze","attributeName","stroke-dashoffset","dur","0.96s","values","24;0"],[1,"btn","btn-error"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","viewBox","0 0 24 24"],["fill","none","stroke","#fffFFF","stroke-dasharray","16","stroke-dashoffset","16","stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],["d","M7 7l10 10"],["fill","freeze","attributeName","stroke-dashoffset","dur","0.4s","values","16;0"],["d","M17 7l-10 10"],["fill","freeze","attributeName","stroke-dashoffset","begin","0.4s","dur","0.4s","values","16;0"],["class","p-10 text-center text-lg",4,"ngIf"],[1,"p-10","text-center","text-lg"],[1,"collapse","hover-shadow","collapse-plus","card-body","bg-reg","my-4","rounded-xl","p-[20px]","pb-[10px]"],["placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u0433\u043E\u043B\u043E\u0432\u043E\u043A",1,"input","w-full","mt-2","mb-4","border","border-gray-300","rounded-lg","px-4","py-2.5","focus:ring","focus:ring-blue-300","focus:ring-opacity-40",3,"ngModelChange","ngModel"],["disabled","","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u0433\u043E\u043B\u043E\u0432\u043E\u043A",1,"input","w-full","mt-2","mb-4","border","border-gray-300","rounded-lg","px-4","py-2.5","focus:ring","focus:ring-blue-300","focus:ring-opacity-40",3,"ngModelChange","ngModel"],["disabled","","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043A\u043E\u043D\u0442\u0435\u043D\u0442 \u043F\u043E\u0441\u0442\u0430",1,"w-full","h-40","border","rounded-lg","px-4","py-2","focus:ring","focus:ring-blue-300","focus:ring-opacity-40",3,"ngModelChange","ngModel"],[1,"card-actions","justify-center","pt-4"],[1,"btn","pr-0","text-success",3,"click"]],template:function(o,r){o&1&&(t(0,"section",0)(1,"div",1)(2,"h2",2),l(3," \u0413\u043B\u0430\u0432\u043D\u044B\u0435 \u043A\u043D\u043E\u043F\u043A\u0438 \u043C\u0435\u043D\u044E "),n(),t(4,"p",3),l(5," \u0412\u0441\u0435\u0433\u043E \u043A\u043D\u043E\u043F\u043E\u043A: "),t(6,"span",4),l(7),n()()(),_(8,xt,6,1,"div",5)(9,vt,5,1,"div",6)(10,Ut,3,2,"div",7),n()),o&2&&(a(7),h(r.menuTables.length),a(),p("ngIf",r.successMessage),a(),p("ngIf",r.errorMessage),a(),p("ngForOf",r.menuTables))},dependencies:[Q,j,z,R,G,U,H,O]})}return i})();var Te=(()=>{class i{http;apiUrl=`${W.auth.apiUrl}menu-buttons-inline`;constructor(e){this.http=e}getButtons(){return this.http.get(this.apiUrl)}getButtonById(e){return this.http.get(`${this.apiUrl}/${e}`)}createButton(e){return this.http.post(this.apiUrl,e)}updateButton(e,o){return this.http.put(`${this.apiUrl}/${e}`,o)}deleteButton(e){return this.http.delete(`${this.apiUrl}/${e}`)}static \u0275fac=function(o){return new(o||i)(L(D))};static \u0275prov=N({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function Yt(i,c){if(i&1&&(t(0,"div",9)(1,"span"),l(2),E(3,"date"),n(),t(4,"span"),l(5),E(6,"date"),n()()),i&2){let e=u().$implicit;a(2),f("\u0414\u0430\u0442\u0430 \u0441\u043E\u0437\u0434\u0430\u043D\u0438\u044F ",S(3,2,e.created_at,"medium"),""),a(3),f("\u041E\u0431\u043D\u043E\u0432\u043B\u0435\u043D\u0430 ",S(6,5,e.updated_at,"medium"),"")}}function Zt(i,c){if(i&1&&(t(0,"div",17),l(1),n()),i&2){let e=u(2).$implicit;a(),f("Url: ",e.url,"")}}function Kt(i,c){if(i&1){let e=b();t(0,"div",10)(1,"div",11)(2,"span"),l(3),n()(),t(4,"div",12)(5,"div",13),l(6," Order: "),t(7,"span",14),l(8),n()(),t(9,"span",15),v("click",function(){m(e);let r=u().$implicit,s=u();return g(s.toggleEdit(r))}),d(10,"app-edit-icon"),n()(),_(11,Zt,2,1,"div",16),n()}if(i&2){let e=u().$implicit;a(3),h(e.name),a(5),h(e.order),a(3),p("ngIf",e.url)}}function Qt(i,c){if(i&1){let e=b();t(0,"div",18)(1,"div",19)(2,"div",20)(3,"label",21),l(4,"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u043F\u043E\u0441\u0442\u0430:"),n(),t(5,"input",22),C("ngModelChange",function(r){m(e);let s=u().$implicit;return y(s.name,r)||(s.name=r),g(r)}),n()(),t(6,"div",23)(7,"label",21),l(8,"\u0421\u0441\u044B\u043B\u043A\u0430 \u043D\u0430 \u0440\u0435\u0441\u0443\u0440\u0441(\u043D\u0435\u043E\u0431\u044F\u0437\u0430\u0442\u0435\u043B\u044C\u043D\u044B\u0439 \u043F\u0430\u0440\u0430\u043C\u0435\u0442\u0440):"),n(),t(9,"input",24),C("ngModelChange",function(r){m(e);let s=u().$implicit;return y(s.url,r)||(s.url=r),g(r)}),n()(),t(10,"div",25)(11,"label",21),l(12,"\u041E\u0447\u0435\u0440\u0435\u0434\u043D\u043E\u0441\u0442\u044C:"),n(),t(13,"input",26),C("ngModelChange",function(r){m(e);let s=u().$implicit;return y(s.order,r)||(s.order=r),g(r)}),n()()(),t(14,"div",27)(15,"span",28),v("click",function(){m(e);let r=u().$implicit,s=u();return g(s.cancelEdit(r))}),x(),t(16,"svg",29)(17,"g",30)(18,"path",31),d(19,"animate",32),n(),t(20,"path",33),d(21,"animate",34),n()()()(),k(),t(22,"span",35),v("click",function(){m(e);let r=u().$implicit,s=u();return g(s.saveChanges(r))}),x(),t(23,"svg",36)(24,"path",37),d(25,"animate",38),n()()()()()}if(i&2){let e=u().$implicit;a(5),w("ngModel",e.name),a(4),w("ngModel",e.url),a(4),w("ngModel",e.order)}}function qt(i,c){if(i&1&&(t(0,"div",1),d(1,"input",2),t(2,"div",3),l(3),n(),t(4,"div",4),_(5,Yt,7,8,"div",5),t(6,"div",6),_(7,Kt,12,3,"div",7)(8,Qt,26,3,"div",8),n()()()),i&2){let e=c.$implicit;a(3),f(" ",e.name," "),a(2),p("ngIf",!e.isEditing),a(2),p("ngIf",!e.isEditing),a(),p("ngIf",e.isEditing)}}var de=(()=>{class i{menuButtonService;buttons=[];loading=!0;successMessage=null;errorMessage=null;constructor(e){this.menuButtonService=e}ngOnInit(){this.loadButtons()}loadButtons(){this.loading=!0,this.menuButtonService.getButtons().subscribe({next:e=>{this.buttons=e.map(o=>A(F({},o),{isEditing:!1})),this.loading=!1,console.log("\u2705 \u0417\u0430\u0433\u0440\u0443\u0436\u0435\u043D\u043E \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u043A\u043D\u043E\u043F\u043A\u0438 inline",this.buttons)},error:e=>{console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0435 \u0434\u0430\u043D\u043D\u044B\u0445:",e),this.errorMessage="\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0435 \u0434\u0430\u043D\u043D\u044B\u0445",this.loading=!1}})}toggleEdit(e){e.isEditing=!e.isEditing,this.clearMessages()}saveChanges(e){this.menuButtonService.updateButton(e.id,{name:e.name,url:e.url,order:e.order}).subscribe({next:o=>{console.log("\u0421\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u043E \u0443\u0441\u043F\u0435\u0448\u043D\u043E:",o),e.isEditing=!1,this.successMessage="\u0418\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u044F \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u044B \u0443\u0441\u043F\u0435\u0448\u043D\u043E!",setTimeout(()=>{this.closeSuccessMessage()},3e3),this.loadButtons()},error:o=>{console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u0438\u0438:",o),this.errorMessage="\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u0438\u0438 \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u0439",setTimeout(()=>{this.closeErrorMessage()},3e3)}})}cancelEdit(e){e.isEditing=!1,this.loadButtons(),this.clearMessages()}clearMessages(){this.successMessage=null,this.errorMessage=null}closeSuccessMessage(){this.successMessage=null}closeErrorMessage(){this.errorMessage=null}static \u0275fac=function(o){return new(o||i)(V(Te))};static \u0275cmp=M({type:i,selectors:[["app-inline-buttons"]],decls:1,vars:1,consts:[["class","bg-reg collapse collapse-arrow hover-shadow card my-4 w-[98%] mx-auto py-4",4,"ngFor","ngForOf"],[1,"bg-reg","collapse","collapse-arrow","hover-shadow","card","my-4","w-[98%]","mx-auto","py-4"],["type","checkbox",1,"peer"],[1,"collapse-title","text-indigo-400","bg-reg","peer-checked:bg-primary","peer-checked:text-white","font-bold","text-lg","relative"],[1,"collapse-content","bg-reg"],["class","sub-btn-date flex justify-between text-gray-400 text-xs py-2 px-4",4,"ngIf"],[1,"sub-btn-body-wrapper"],["class","sub-btn-body flex justify-between items-center",4,"ngIf"],["class","flex items-center",4,"ngIf"],[1,"sub-btn-date","flex","justify-between","text-gray-400","text-xs","py-2","px-4"],[1,"sub-btn-body","flex","justify-between","items-center"],[1,"sub-btn-body-title","text-lg","font-bold","text-indigo-400","flex","gap-2"],[1,"sub-btn-body-order","font-bold","flex","gap-4","items-center"],[1,"order"],[1,"nj-toast-trans"],[1,"btn","btn-primary",3,"click"],["class","sub-btn-url",4,"ngIf"],[1,"sub-btn-url"],[1,"flex","items-center"],[1,"form-group-wrapper","flex","flex-1","items-center","gap-4","pt-4"],[1,"form-group","w-[30%]"],[1,"block","text-sm","text-indigo-400","font-bold"],["placeholder","\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0437\u0430\u0433\u043E\u043B\u043E\u0432\u043E\u043A",1,"input","w-full","mt-2","mb-4","border","border-gray-300","rounded-lg","px-4","py-2.5","focus:ring","focus:ring-blue-300","focus:ring-opacity-40",3,"ngModelChange","ngModel"],[1,"form-group","w-[50%]"],["placeholder","\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C URL \u043A\u043D\u043E\u043F\u043A\u0438",1,"input","w-full","mt-2","mb-4","border","border-gray-300","rounded-lg","px-4","py-2.5","focus:ring","focus:ring-blue-300","focus:ring-opacity-40",3,"ngModelChange","ngModel"],[1,"form-group","w-[12.5%]"],["disabled","","placeholder","",1,"input","w-full","mt-2","mb-4","border","border-gray-300","rounded-lg","px-4","py-2.5","focus:ring","focus:ring-blue-300","focus:ring-opacity-40",3,"ngModelChange","ngModel"],[1,"btn-group","flex","items-center","gap-2","pt-5"],[1,"btn","btn-error",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","viewBox","0 0 24 24","cl",""],["fill","none","stroke","#fffFFF","stroke-dasharray","16","stroke-dashoffset","16","stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],["d","M7 7l10 10"],["fill","freeze","attributeName","stroke-dashoffset","dur","0.4s","values","16;0"],["d","M17 7l-10 10"],["fill","freeze","attributeName","stroke-dashoffset","begin","0.4s","dur","0.4s","values","16;0"],[1,"btn","btn-accent",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","25","height","25","viewBox","0 0 24 24"],["fill","none","stroke","#fff","stroke-dasharray","24","stroke-dashoffset","24","stroke-linecap","round","stroke-linejoin","round","stroke-width","2.7","d","M5 11l6 6l10 -10"],["fill","freeze","attributeName","stroke-dashoffset","dur","0.96s","values","24;0"]],template:function(o,r){o&1&&_(0,qt,9,4,"div",0),o&2&&p("ngForOf",r.buttons)},dependencies:[j,z,R,G,U,H,O]})}return i})();var De=(()=>{class i{http;apiUrl=W.auth.apiUrl;constructor(e){this.http=e}getNews(){return this.http.get(`${this.apiUrl}news`)}updateNews(e,o){return this.http.put(`${this.apiUrl}news/${e}`,o)}static \u0275fac=function(o){return new(o||i)(L(D))};static \u0275prov=N({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function Xt(i,c){if(i&1&&(t(0,"figure"),d(1,"img",34),n()),i&2){let e=u(3).$implicit;a(),p("src",e.post_image_url,I)}}function ei(i,c){if(i&1&&(t(0,"div",32),_(1,Xt,2,1,"figure",33),n()),i&2){let e=u(2).$implicit;a(),p("ngIf",e.post_image_url)}}function ti(i,c){i&1&&(x(),t(0,"svg",35)(1,"g",36)(2,"path",37),d(3,"animate",38),n(),t(4,"path",39),d(5,"animate",40),n()()())}function ii(i,c){i&1&&(x(),t(0,"svg",41)(1,"g",42)(2,"path",43),d(3,"animate",38),n(),t(4,"path",44),d(5,"animate",45),n()()())}function ni(i,c){if(i&1){let e=b();t(0,"div",18),_(1,ei,2,1,"div",19),t(2,"div",20)(3,"div",21)(4,"p",22),l(5," \u041A\u0430\u0442\u0435\u0433\u043E\u0440\u0438\u044F: "),t(6,"span",23),l(7),n()(),t(8,"p",24),l(9," isActive: "),_(10,ti,6,0,"svg",25)(11,ii,6,0,"svg",26),n()(),t(12,"h3",27),l(13),n(),t(14,"p",28),l(15),n(),t(16,"div",29)(17,"button",30),v("click",function(){m(e);let r=u().$implicit,s=u(2);return g(s.toggleEdit(r))}),l(18," \u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C "),t(19,"span",31),d(20,"app-edit-icon"),n()()()()()}if(i&2){let e=u().$implicit;a(),p("ngIf",e.post_image_url),a(6),h(e.category),a(3),p("ngIf",e.isActive),a(),p("ngIf",!e.isActive),a(2),f(" ",e.post_title," "),a(2),f(" ",e.post_content," ")}}function oi(i,c){if(i&1&&(t(0,"div",49)(1,"span",50),l(2," \u0421\u0441\u044B\u043B\u043A\u0430 \u043A\u043D\u043E\u043F\u043A\u0438:"),n(),t(3,"a",51),l(4),n()()),i&2){let e=u(2).$implicit;a(3),p("href",e.news_url,I),a(),h(e.news_url)}}function ri(i,c){if(i&1&&(t(0,"div",46)(1,"p",47),l(2,"\u041A\u043D\u043E\u043F\u043A\u0430 \u043D\u043E\u0432\u043E\u0441\u0442\u0438:"),n(),_(3,oi,5,2,"div",48),n()),i&2){let e=u().$implicit;a(3),p("ngIf",e.news_url)}}function ai(i,c){if(i&1&&(t(0,"figure"),d(1,"img",34),n()),i&2){let e=u(3).$implicit;a(),p("src",e.post_image_url,I)}}function li(i,c){if(i&1&&(t(0,"div",78),_(1,ai,2,1,"figure",33),n()),i&2){let e=u(2).$implicit;a(),p("ngIf",e.post_image_url)}}function si(i,c){if(i&1){let e=b();t(0,"div",52)(1,"div",53)(2,"label",54)(3,"span",55),l(4," Is active ? "),n(),t(5,"input",56),C("ngModelChange",function(r){m(e);let s=u().$implicit;return y(s.isActive,r)||(s.isActive=r),g(r)}),n()()(),t(6,"div",57)(7,"label",58),l(8," \u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u043D\u043E\u0432\u043E\u0441\u0442\u0438:"),n(),t(9,"input",59),C("ngModelChange",function(r){m(e);let s=u().$implicit;return y(s.post_title,r)||(s.post_title=r),g(r)}),n()(),t(10,"div",57)(11,"label",58),l(12," \u041A\u043E\u043D\u0442\u0435\u043D\u0442 \u043D\u043E\u0432\u043E\u0441\u0442\u0438:"),n(),t(13,"textarea",60),C("ngModelChange",function(r){m(e);let s=u().$implicit;return y(s.post_content,r)||(s.post_content=r),g(r)}),n()(),t(14,"div",57)(15,"label",58),l(16," \u0421\u0441\u044B\u043B\u043A\u0430 \u043D\u0430 \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435:"),n(),t(17,"input",61),C("ngModelChange",function(r){m(e);let s=u().$implicit;return y(s.post_image_url,r)||(s.post_image_url=r),g(r)}),n(),_(18,li,2,1,"div",62),n(),t(19,"div",57)(20,"label",58),l(21," \u041A\u0430\u0442\u0435\u0433\u043E\u0440\u0438\u044F"),n(),t(22,"select",63),C("ngModelChange",function(r){m(e);let s=u().$implicit;return y(s.category,r)||(s.category=r),g(r)}),t(23,"option",64),l(24,"Football"),n(),t(25,"option",65),l(26,"Basketball"),n(),t(27,"option",66),l(28,"Box"),n(),t(29,"option",67),l(30,"UFC"),n()()(),t(31,"div",57)(32,"label",58),l(33," \u0421\u0441\u044B\u043B\u043A\u0430 \u043D\u0430 \u043D\u043E\u0432\u043E\u0441\u0442\u044C"),n(),t(34,"input",68),C("ngModelChange",function(r){m(e);let s=u().$implicit;return y(s.news_url,r)||(s.news_url=r),g(r)}),n()(),t(35,"div",69)(36,"button",70),v("click",function(){m(e);let r=u().$implicit,s=u(2);return g(s.toggleEdit(r))}),x(),t(37,"svg",71)(38,"path",72),d(39,"animate",73),n()()(),k(),t(40,"button",74),v("click",function(){m(e);let r=u().$implicit,s=u(2);return g(s.saveChanges(r))}),l(41," \u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C "),t(42,"span",75),x(),t(43,"svg",41)(44,"path",76),d(45,"animate",77),n()()()()()()}if(i&2){let e=u().$implicit;a(5),w("ngModel",e.isActive),a(4),w("ngModel",e.post_title),a(4),w("ngModel",e.post_content),a(4),w("ngModel",e.post_image_url),a(),p("ngIf",e.post_image_url),a(4),w("ngModel",e.category),a(12),w("ngModel",e.news_url)}}function ui(i,c){if(i&1&&(t(0,"div",11)(1,"div",12)(2,"p",13),l(3),n(),t(4,"div",14)(5,"p",15),l(6),E(7,"date"),n()()(),_(8,ni,21,6,"div",16)(9,ri,4,1,"div",17)(10,si,46,7,"ng-template",null,1,$),n()),i&2){let e=c.$implicit,o=c.index,r=Y(11);a(3),f(" \u{1F4DD} \u041D\u043E\u0432\u043E\u0441\u0442\u044C \u2116",o+1," "),a(3),f(" \u0414\u0430\u0442\u0430 \u0441\u043E\u0437\u0434\u0430\u043D\u0438\u044F: ",S(7,5,e.created_at,"medium")," "),a(2),p("ngIf",!e.isEditing)("ngIfElse",r),a(),p("ngIf",!e.isEditing)}}function di(i,c){if(i&1&&(t(0,"div"),_(1,ui,12,8,"div",10),n()),i&2){let e=u();a(),p("ngForOf",e.newsItems)}}function pi(i,c){i&1&&(t(0,"div",79),x(),t(1,"svg",80)(2,"defs")(3,"radialGradient",81),d(4,"stop",82)(5,"stop",83),n(),t(6,"radialGradient",84),d(7,"stop",85)(8,"stop",86),n(),t(9,"radialGradient",87),d(10,"stop",88)(11,"stop",89),n()(),t(12,"circle",90),d(13,"animate",91)(14,"animate",92),n(),t(15,"circle",93),d(16,"animate",94)(17,"animate",95),n(),t(18,"circle",96),d(19,"animate",97)(20,"animate",98),n()()())}function ci(i,c){if(i&1){let e=b();t(0,"div",99)(1,"b"),l(2),n(),t(3,"span",100),v("click",function(){m(e);let r=u();return g(r.closeSuccessMessage())}),x(),t(4,"svg",101),d(5,"path",102),n()()()}if(i&2){let e=u();a(2),f(" ",e.successMessage," ")}}function mi(i,c){if(i&1){let e=b();t(0,"div",103),l(1),t(2,"span",100),v("click",function(){m(e);let r=u();return g(r.closeErrorMessage())}),x(),t(3,"svg",101),d(4,"path",102),n()()()}if(i&2){let e=u();a(),f(" ",e.errorMessage," ")}}var Fe=(()=>{class i{newsBotService;newsItems=[];loading=!0;successMessage=null;errorMessage=null;constructor(e){this.newsBotService=e}ngOnInit(){this.loadNews()}loadNews(){this.newsBotService.getNews().subscribe({next:e=>{this.newsItems=e.map(o=>A(F({},o),{isEditing:!1})),console.log("NEWS",this.newsItems),this.loading=!1},error:e=>{console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0435 \u043D\u043E\u0432\u043E\u0441\u0442\u0435\u0439:",e),this.errorMessage="\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0435 \u043D\u043E\u0432\u043E\u0441\u0442\u0435\u0439",this.loading=!1}})}toggleEdit(e){e.isEditing=!e.isEditing,this.clearMessages()}saveChanges(e){let o={post_title:e.post_title,post_content:e.post_content,post_image_url:e.post_image_url,category:e.category,isActive:e.isActive,news_url:e.news_url};this.newsBotService.updateNews(e.id,o).subscribe({next:r=>{e.isEditing=!1,this.successMessage="\u0418\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u044F \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u044B \u0443\u0441\u043F\u0435\u0448\u043D\u043E!",setTimeout(()=>this.closeSuccessMessage(),3e3)},error:r=>{console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u0438\u0438 \u043D\u043E\u0432\u043E\u0441\u0442\u0438:",r),this.errorMessage="\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u0438\u0438 \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u0439",setTimeout(()=>this.closeErrorMessage(),3e3)}})}closeSuccessMessage(){this.successMessage=null}closeErrorMessage(){this.errorMessage=null}clearMessages(){this.successMessage=null,this.errorMessage=null}static \u0275fac=function(o){return new(o||i)(V(De))};static \u0275cmp=M({type:i,selectors:[["app-news-bot"]],decls:13,vars:5,consts:[["loadingTemplate",""],["editMode",""],[1,"news-bot","w-full","pb-[25px]"],[1,"header-tab","flex","items-center","justify-between","px-[20px]","py-[10px]","my-[30px]","mb-0","rounded-[20px]","w-[70%]","mx-auto","bg-gradient-to-r","from-indigo-500","to-purple-500","iten"],[1,"text-xl","font-bold","text-white"],[1,"text-right","text-white","flex","gap-2","items-center"],[1,"font-bold","text-2xl"],[4,"ngIf","ngIfElse"],["class","alert alert-success mb-4 relative flex justify-between",4,"ngIf"],["class","alert alert-error relative",4,"ngIf"],["class","news-card mb-8 mt-4",4,"ngFor","ngForOf"],[1,"news-card","mb-8","mt-4"],[1,"flex","items-center","justify-between","w-[70%]","mx-auto","pt-[20px]","mb-[20px]"],[1,"text-lg","font-bold","text-indigo-600","nj-toast-gradient"],[1,"card-date","flex","items-center","gap-2"],[1,"text-xs","text-gray-500"],["class","card-body news-body hover-shadow m-[20px] rounded-[35px] p-0",4,"ngIf","ngIfElse"],["class","btn-news w-main px-6",4,"ngIf"],[1,"card-body","news-body","hover-shadow","m-[20px]","rounded-[35px]","p-0"],["class","img-wrapper w-full h-[350px] relative",4,"ngIf"],[1,"card-content-wrapp","p-[40px]","pt-[20px]","bg-white","z-10","rounded-[35px]"],[1,"card-header","flex","justify-around","items-center"],[1,"text-lg","text-gray-600","font-bold","flex-[80%]"],[1,"nj-toast-gradient","bg-gradient-to-r","from-indigo-500","to-purple-500","iten"],[1,"w-fit","text-gray-400","text-sm","flex","items-center","justify-center"],["class","","xmlns","http://www.w3.org/2000/svg","width","30","height","30","viewBox","0 0 24 24",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","viewBox","0 0 24 24",4,"ngIf"],[1,"collapse-title","text-indigo-400","bg-reg","peer-checked:bg-primary","peer-checked:text-white","font-bold","text-lg","pl-0","pb-4","min-h-2"],[1,"text-sm"],[1,"text-right"],[1,"btn","btn-ghost","pr-0",3,"click"],[1,"btn","btn-primary"],[1,"img-wrapper","w-full","h-[350px]","relative"],[4,"ngIf"],["alt","Post Image",1,"rounded-[35px]",3,"src"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","viewBox","0 0 24 24",1,""],["fill","none","stroke","#3f9f52cb","stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],["stroke-dasharray","64","stroke-dashoffset","64","d","M3 12c0 -4.97 4.03 -9 9 -9c4.97 0 9 4.03 9 9c0 4.97 -4.03 9 -9 9c-4.97 0 -9 -4.03 -9 -9Z"],["fill","freeze","attributeName","stroke-dashoffset","dur","0.6s","values","64;0"],["stroke-dasharray","14","stroke-dashoffset","14","d","M8 12l3 3l5 -5"],["fill","freeze","attributeName","stroke-dashoffset","begin","0.6s","dur","0.2s","values","14;0"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","viewBox","0 0 24 24"],["fill","none","stroke","#ff4400","stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],["stroke-dasharray","64","stroke-dashoffset","64","d","M12 3c4.97 0 9 4.03 9 9c0 4.97 -4.03 9 -9 9c-4.97 0 -9 -4.03 -9 -9c0 -4.97 4.03 -9 9 -9Z"],["stroke-dasharray","8","stroke-dashoffset","8","d","M12 12l4 4M12 12l-4 -4M12 12l-4 4M12 12l4 -4"],["fill","freeze","attributeName","stroke-dashoffset","begin","0.6s","dur","0.2s","values","8;0"],[1,"btn-news","w-main","px-6"],[1,"text-lg","text-black","my-2","font-bold"],["class","flex items-center gap-2 nj-toast-gradient text-white",4,"ngIf"],[1,"flex","items-center","gap-2","nj-toast-gradient","text-white"],[1,"text-lg","text-white","font-bold","text-nowrap"],["target","_blank",1,"underline","text-sm","text-nowrap","overflow-x-auto",3,"href"],[1,"card-body","hover-shadow","rounded-xl","px-[40px]","mx-[20px]"],[1,"flex","flex-col","items-start","btn","btn-ghost","btn-access","w-fit","mb-2"],[1,"label","cursor-pointer"],[1,"block","text-lg","font-bold","pr-1"],["type","checkbox","checked","checked",1,"checkbox","checkbox-success",3,"ngModelChange","ngModel"],[1,""],[1,"block","text-sm","text-indigo-400","font-bold"],["placeholder","\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u043D\u043E\u0432\u043E\u0441\u0442\u0438",1,"input","w-full","mb-4","border","border-gray-300","rounded-lg","px-4","py-2.5","focus:ring","focus:ring-blue-300","focus:ring-opacity-40",3,"ngModelChange","ngModel"],["placeholder","\u041A\u043E\u043D\u0442\u0435\u043D\u0442 \u043D\u043E\u0432\u043E\u0441\u0442\u0438",1,"w-full","h-40","border","rounded-lg","px-4","py-2","focus:ring","focus:ring-blue-300","focus:ring-opacity-40","focus-visible:no-underline","text-sm",3,"ngModelChange","ngModel"],["placeholder","URL \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F",1,"input","w-full","mb-4","border","border-gray-300","rounded-lg","px-4","py-2.5","focus:ring","focus:ring-blue-300","focus:ring-opacity-40","text-sm",3,"ngModelChange","ngModel"],["class","img-wrapper w-[350px] h-auto relative",4,"ngIf"],[1,"select","select-bordered","input","w-full","mb-4","border","border-gray-300","rounded-lg","px-4","py-2.5","focus:ring","focus:ring-blue-300","focus:ring-opacity-40",3,"ngModelChange","ngModel"],["value","football"],["value","basketball"],["value","box"],["value","ufc"],["placeholder","URL \u043D\u043E\u0432\u043E\u0441\u0442\u0438",1,"input","w-full","mb-4","border","border-gray-300","rounded-lg","px-4","py-2.5","focus:ring","focus:ring-blue-300","focus:ring-opacity-40","text-sm",3,"ngModelChange","ngModel"],[1,"flex","justify-end","gap-4"],[1,"btn","btn-danger",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","35","height","40","viewBox","0 0 24 24"],["fill","#fff","stroke","#fff","stroke-dasharray","12","stroke-dashoffset","12","stroke-linecap","round","stroke-linejoin","round","stroke-width","2.5","d","M12 12l7 7M12 12l-7 -7M12 12l-7 7M12 12l7 -7"],["fill","freeze","attributeName","stroke-dashoffset","dur","0.3s","values","12;0"],[1,"btn","pr-0","text-success",3,"click"],[1,"btn","btn-accent"],["fill","none","stroke","#fff","stroke-dasharray","24","stroke-dashoffset","24","stroke-linecap","round","stroke-linejoin","round","stroke-width","2.7","d","M5 11l6 6l10 -10"],["fill","freeze","attributeName","stroke-dashoffset","dur","0.96s","values","24;0"],[1,"img-wrapper","w-[350px]","h-auto","relative"],[1,"isLoading","fixed","z-10"],["xmlns","http://www.w3.org/2000/svg","width","300","height","300","viewBox","0 0 24 24",1,""],["id","gradient1","cx","50%","cy","50%","r","50%"],["offset","0%","stop-color","oklch(51.01% 0.274 263.83)"],["offset","100%","stop-color","#4f45e5"],["id","gradient2","cx","50%","cy","50%","r","50%"],["offset","0%","stop-color","oklch(47.66% 0.246 305.88)"],["offset","100%","stop-color","#818cf8"],["id","gradient3","cx","50%","cy","50%","r","50%"],["offset","0%","stop-color","#4f45e5"],["offset","100%","stop-color","#8845e5"],["cx","12","cy","12","r","0","fill","url(#gradient1)"],["id","svgSpinnersPulseMultiple0","fill","freeze","attributeName","r","begin","0;svgSpinnersPulseMultiple2.end","calcMode","spline","dur","1.2s","keySplines",".52,.6,.25,.99","values","0;11"],["fill","freeze","attributeName","opacity","begin","0;svgSpinnersPulseMultiple2.end","calcMode","spline","dur","1.2s","keySplines",".52,.6,.25,.99","values","1;0"],["cx","12","cy","12","r","0","fill","url(#gradient2)"],["id","svgSpinnersPulseMultiple1","fill","freeze","attributeName","r","begin","svgSpinnersPulseMultiple0.begin+0.2s","calcMode","spline","dur","1.2s","keySplines",".52,.6,.25,.99","values","0;11"],["fill","freeze","attributeName","opacity","begin","svgSpinnersPulseMultiple0.begin+0.2s","calcMode","spline","dur","1.2s","keySplines",".52,.6,.25,.99","values","1;0"],["cx","12","cy","12","r","0","fill","url(#gradient3)"],["id","svgSpinnersPulseMultiple2","fill","freeze","attributeName","r","begin","svgSpinnersPulseMultiple0.begin+0.4s","calcMode","spline","dur","1.2s","keySplines",".52,.6,.25,.99","values","0;11"],["fill","freeze","attributeName","opacity","begin","svgSpinnersPulseMultiple0.begin+0.4s","calcMode","spline","dur","1.2s","keySplines",".52,.6,.25,.99","values","1;0"],[1,"alert","alert-success","mb-4","relative","flex","justify-between"],[1,"close",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","36","height","36","viewBox","0 0 24 24"],["fill","currentColor","d","M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10s10-4.47 10-10S17.53 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8s8 3.59 8 8s-3.59 8-8 8m3.59-13L12 10.59L8.41 7L7 8.41L10.59 12L7 15.59L8.41 17L12 13.41L15.59 17L17 15.59L13.41 12L17 8.41z"],[1,"alert","alert-error","relative"]],template:function(o,r){if(o&1&&(t(0,"section",2)(1,"div",3)(2,"h2",4),l(3,"News bot"),n(),t(4,"p",5),l(5," \u0412\u0441\u0435\u0433\u043E \u043D\u043E\u0432\u043E\u0441\u0442\u0435\u0439: "),t(6,"span",6),l(7),n()()(),_(8,di,2,1,"div",7)(9,pi,21,0,"ng-template",null,0,$)(11,ci,6,1,"div",8)(12,mi,5,1,"div",9),n()),o&2){let s=Y(10);a(7),h(r.newsItems.length),a(),p("ngIf",!r.loading)("ngIfElse",s),a(3),p("ngIf",r.successMessage),a(),p("ngIf",r.errorMessage)}},dependencies:[j,z,R,re,ae,G,ve,oe,U,H,O]})}return i})();var Ae=(()=>{class i{static \u0275fac=function(o){return new(o||i)};static \u0275cmp=M({type:i,selectors:[["app-admin-page"]],decls:36,vars:0,consts:[[1,"admin-page","ml-side"],[1,"container","mx-auto","pt-[10px]"],[1,"bg-main-trans2-gradient-90","header-tab","flex","items-center","justify-between","py-[10px]","mb-[0px]","rounded-[20px]","w-[100%]","pr-4"],[1,"title-tab","text-2xl","font-bold","text-indigo-600"],["xmlns","http://www.w3.org/2000/svg","width","40","height","40","viewBox","0 0 24 24"],["fill","none","stroke","#4f45e5","stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],["stroke-dasharray","20","stroke-dashoffset","20","d","M3 21h18"],["fill","freeze","attributeName","stroke-dashoffset","dur","0.2s","values","20;0"],["fill","#4e46e553","fill-opacity","0","stroke-dasharray","48","stroke-dashoffset","48","d","M7 17v-4l10 -10l4 4l-10 10h-4"],["fill","freeze","attributeName","fill-opacity","begin","1.1s","dur","0.5s","values","0;1"],["fill","freeze","attributeName","stroke-dashoffset","begin","0.2s","dur","0.6s","values","48;0"],["stroke-dasharray","8","stroke-dashoffset","8","d","M14 6l4 4"],["fill","freeze","attributeName","stroke-dashoffset","begin","0.8s","dur","0.2s","values","8;0"],["role","tablist",1,"tabs","tabs-lifted"],["type","radio","name","my_tabs_2","role","tab","aria-label","\u041F\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0435 \u0431\u043E\u0442\u0430",1,"tab","tabs-title-input"],["role","tabpanel",1,"tab-content","bg-base-100","border-base-300","rounded-box","h-[82dvh]"],[1,"tabpanel-wrapper"],["type","radio","name","my_tabs_2","role","tab","aria-label","\u041F\u043E\u0441\u0442\u044B \u0431\u043E\u0442\u0430","checked","checked",1,"tab","tabs-title-input"],["type","radio","name","my_tabs_2","role","tab","aria-label","\u0413\u043B\u0430\u0432\u043D\u043E\u0435 \u043C\u0435\u043D\u044E \u0431\u043E\u0442\u0430",1,"tab","tabs-title-input"],["type","radio","name","my_tabs_2","role","tab","aria-label","\u041A\u043D\u043E\u043F\u043A\u0438 \u043F\u043E\u0441\u0442\u043E\u0432",1,"tab","tabs-title-input"],["type","radio","name","my_tabs_2","role","tab","aria-label","\u041D\u043E\u0432\u043E\u0441\u0442\u0438",1,"tab","tabs-title-input"]],template:function(o,r){o&1&&(d(0,"app-sidebar"),t(1,"section",0)(2,"div",1)(3,"div",2)(4,"h2",3),l(5," \u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435 \u043A\u043E\u043D\u0442\u0435\u043D\u0442\u0430 "),n(),x(),t(6,"svg",4)(7,"g",5)(8,"path",6),d(9,"animate",7),n(),t(10,"path",8),d(11,"animate",9)(12,"animate",10),n(),t(13,"path",11),d(14,"animate",12),n()()()(),k(),t(15,"div",13),d(16,"input",14),t(17,"div",15)(18,"div",16),d(19,"app-greeting-bot"),n()(),d(20,"input",17),t(21,"div",15)(22,"div",16),d(23,"app-posts-bot"),n()(),d(24,"input",18),t(25,"div",15)(26,"div",16),d(27,"app-menu-buttons"),n()(),d(28,"input",19),t(29,"div",15)(30,"div",16),d(31,"app-inline-buttons"),n()(),d(32,"input",20),t(33,"div",15)(34,"div",16),d(35,"app-news-bot"),n()()()()())},dependencies:[le,Ee,Me,Pe,de,Fe],styles:['.admin-page[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.tabpanel-wrapper[_ngcontent-%COMP%]{height:100%}.title-tab[_ngcontent-%COMP%]{position:relative;padding-left:10px}.title-tab[_ngcontent-%COMP%]:after{content:"";position:absolute;height:100%;width:4px;background:#4f45e5;left:0;bottom:0}.card-list[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{cursor:pointer}.card-list[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover{box-shadow:0 0 15px #4e46e580;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);transition:all .3s ease-in-out}.card-list[_ngcontent-%COMP%]   .input-title[_ngcontent-%COMP%]{border-radius:20px 0 0 20px}.card-list[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{border-radius:0 20px 20px 0}.alert[_ngcontent-%COMP%], .alert-success[_ngcontent-%COMP%], .alert.alert-success[_ngcontent-%COMP%]{top:20px;position:fixed;z-index:9999;width:50%;display:flex;justify-content:center;align-items:center;left:50%;transform:translate(-50%);opacity:.7;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}']})}return i})();var _i=i=>({"bg-gradient":i});function fi(i,c){i&1&&(t(0,"span",21),d(1,"app-edit-icon"),n())}function xi(i,c){if(i&1&&(t(0,"div")(1,"figure"),d(2,"img",22),n()()),i&2){let e=u(2).$implicit;a(2),p("src",(e.linked_post==null?null:e.linked_post.post_image_url)||"path/to/fallback-image.jpg",I)}}function vi(i,c){if(i&1&&(t(0,"div",39),l(1),n()),i&2){let e=u().$implicit;a(),f(" Url: ",e.button.url," ")}}function bi(i,c){if(i&1){let e=b();t(0,"div",26),d(1,"input",27),t(2,"div",28),l(3),n(),t(4,"div",29)(5,"div",30)(6,"span"),l(7),E(8,"date"),n(),t(9,"span"),l(10),E(11,"date"),n()(),t(12,"div",31)(13,"div",32)(14,"div",33)(15,"span"),l(16),n()(),t(17,"div",34)(18,"div",35),l(19," Order: "),t(20,"span",36),l(21),n()(),t(22,"span",37),v("click",function(){let r=m(e).$implicit,s=u(5);return g(s.selectButton(r.button.id))}),d(23,"app-edit-icon"),n()()(),_(24,vi,2,1,"div",38),n()()()}if(i&2){let e=c.$implicit;a(3),f(" ",e.button.name||"Unnamed Button"," "),a(4),f("\u0414\u0430\u0442\u0430 \u0441\u043E\u0437\u0434\u0430\u043D\u0438\u044F ",S(8,6,e.button.created_at,"medium"),""),a(3),f("\u041E\u0431\u043D\u043E\u0432\u043B\u0435\u043D\u0430 ",S(11,9,e.button.updated_at,"medium"),""),a(6),h(e.button.name||"Unnamed Button"),a(5),h(e.button.order),a(3),p("ngIf",e.button.url)}}function hi(i,c){if(i&1&&(t(0,"div")(1,"figure"),d(2,"img",22),n()()),i&2){let e=u().$implicit;a(2),p("src",e.post_image_url||"path/to/fallback-image.jpg",I)}}function wi(i,c){if(i&1&&(t(0,"div",41)(1,"div"),_(2,hi,3,1,"div",1),t(3,"div",17)(4,"p",7),l(5),n(),t(6,"h3",18),l(7),n(),t(8,"p"),l(9),n(),t(10,"span",19),d(11,"app-edit-icon"),n()()()()),i&2){let e=c.$implicit;a(2),p("ngIf",e.post_image_url),a(3),f("ID: ",e.id,""),a(2),f(" ",e.post_title||"No Title"," "),a(2),h(e.post_content||"No Content")}}function yi(i,c){if(i&1&&(t(0,"div"),_(1,wi,12,4,"div",40),n()),i&2){let e=u(5);a(),p("ngForOf",e.subMenuPosts)}}function Ci(i,c){if(i&1&&(t(0,"div",23)(1,"h4",24),l(2," \u041A\u043D\u043E\u043F\u043A\u0430(\u0438) \u043F\u043E\u0441\u0442\u0430: "),n(),_(3,bi,25,12,"div",25)(4,yi,2,1,"div",1),n()),i&2){let e=u(2).$implicit,o=u(2);a(3),p("ngForOf",e.linked_post.buttons),a(),p("ngIf",o.subMenuPosts.length>0)}}function Ei(i,c){if(i&1){let e=b();t(0,"div")(1,"div",4)(2,"input",5),v("click",function(){m(e);let r=u().index,s=u(2);return g(s.toggleClick(r))}),n(),t(3,"div",6)(4,"h3",7)(5,"span",8),l(6),n(),l(7),n(),_(8,fi,2,0,"span",9),n(),t(9,"div",10)(10,"div",11)(11,"span",12),l(12," Level menu: "),t(13,"span",13),l(14),n()(),t(15,"p",14),l(16),E(17,"date"),n()(),t(18,"div",15)(19,"div",16),_(20,xi,3,1,"div",1),t(21,"div",17)(22,"p",7),l(23),n(),t(24,"h3",18),l(25),n(),t(26,"p"),l(27),n(),t(28,"span",19),d(29,"app-edit-icon"),n()()(),_(30,Ci,5,2,"div",20),n()()()()}if(i&2){let e=u(),o=e.$implicit,r=e.index,s=u(2);a(3),p("ngClass",X(14,_i,s.activeIndexes.has(r))),a(3),h(o.order),a(),f("",o.name||"Unnamed"," "),a(),p("ngIf",s.activeIndexes.has(r)),a(6),h(o.isActive!==void 0?o.isActive?1:2:"N/A"),a(2),f(" Last update ",o.updated_at?S(17,11,o.updated_at,"medium"):"Not Available"," "),a(4),p("ngIf",o.linked_post==null?null:o.linked_post.post_image_url),a(3),f("ID: ",o.linked_post==null?null:o.linked_post.id,""),a(2),f(" ",(o.linked_post==null?null:o.linked_post.post_title)||"No Title"," "),a(2),h((o.linked_post==null?null:o.linked_post.post_content)||"No Content"),a(3),p("ngIf",o.buttons==null?null:o.buttons.length)}}function Si(i,c){if(i&1&&(t(0,"div",3),_(1,Ei,31,16,"div",1),n()),i&2){let e=c.$implicit;a(),p("ngIf",!e.isEditing)}}function Mi(i,c){i&1&&(t(0,"div",42),x(),t(1,"svg",43)(2,"defs")(3,"radialGradient",44),d(4,"stop",45)(5,"stop",46),n(),t(6,"radialGradient",47),d(7,"stop",48)(8,"stop",49),n(),t(9,"radialGradient",50),d(10,"stop",51)(11,"stop",52),n()(),t(12,"circle",53),d(13,"animate",54)(14,"animate",55),n(),t(15,"circle",56),d(16,"animate",57)(17,"animate",58),n(),t(18,"circle",59),d(19,"animate",60)(20,"animate",61),n()()())}function ki(i,c){if(i&1&&(t(0,"div"),_(1,Si,2,1,"div",2)(2,Mi,21,0,"ng-template",null,0,$),n()),i&2){let e=u();a(),p("ngForOf",e.structuredData)}}var Ne=(()=>{class i{http;menuTables=[];menuPosts=[];menuButtons=[];menuPostButtons=[];subMenuPosts=[];indexSubMenuPosts=null;selectedPostId=null;successMessage=null;errorMessage=null;activeIndex=null;isEditing=!1;isActive=!1;activeIndexes=new Set;structuredData=[];combinedArray=[];constructor(e){this.http=e}ngOnInit(){this.loadData()}loadData(){return pe(this,null,function*(){try{let e="http://localhost:3101/api/",[o,r,s,P]=yield Promise.all([this.http.get(`${e}menu/tables`).toPromise().then(T=>T||[]),this.http.get(`${e}menu/posts`).toPromise().then(T=>T||[]),this.http.get(`${e}menu-buttons-inline`).toPromise().then(T=>T||[]),this.http.get(`${e}post-buttons/`).toPromise().then(T=>T||[])]);this.menuTables=o,this.menuPosts=r,this.menuButtons=s,this.menuPostButtons=P,console.log("\u2705 \u0417\u0430\u0433\u0440\u0443\u0436\u0435\u043D\u044B \u0434\u0430\u043D\u043D\u044B\u0435:","menuTables:",this.menuTables,"menuPosts:",this.menuPosts,"menuButtons:",this.menuButtons,"menuPostButtons:",this.menuPostButtons),this.structureData()}catch(e){console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0438 \u0434\u0430\u043D\u043D\u044B\u0445:",e)}})}structureData(){this.structuredData=this.menuTables.map(e=>{let o=this.menuPosts.find(s=>s.id===e.linked_post?.id)||{},r=this.menuPostButtons.filter(s=>s.post.id===e.linked_post?.id).map(s=>s.button);return A(F({},e),{linked_post:o,buttons:r})}),console.log("Structured Data:",this.structuredData)}getButtonById(e){return pe(this,null,function*(){console.log("\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043C \u043F\u043E\u0441\u0442\u044B \u0434\u043B\u044F \u043A\u043D\u043E\u043F\u043A\u0438 \u0441 id:",e);let o=this.menuButtons.find(s=>s.id===e);if(this.indexSubMenuPosts=e,!o){console.warn("\u041A\u043D\u043E\u043F\u043A\u0430 \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u0430!");return}if(!o.postId){console.warn("\u0423 \u043A\u043D\u043E\u043F\u043A\u0438 \u043D\u0435\u0442 postId!");return}let r=this.subMenuPosts.find(s=>s.id===o.postId);if(r){console.log("\u041F\u043E\u0441\u0442 \u0443\u0436\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043D:",r);return}try{let s=yield this.http.get(`http://localhost:3101/api/posts/${o.postId}`).toPromise();s?(console.log("\u0417\u0430\u0433\u0440\u0443\u0436\u0435\u043D \u043F\u043E\u0441\u0442:",s),this.subMenuPosts.push(s)):console.warn("\u041F\u043E\u0441\u0442 \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D!")}catch(s){console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0438 \u043F\u043E\u0441\u0442\u0430:",s)}})}combineButtonsAndPosts(e,o){let r=[],s=Math.max(e.length,o.length);for(let P=0;P<s;P++)e[P]&&r.push({type:"button",data:e[P]}),o[P]&&r.push({type:"post",data:o[P]});return r}saveChanges(){}cancelEdit(){}toggleEdit(){}toggleClick(e){this.activeIndexes.has(e)?this.activeIndexes.delete(e):this.activeIndexes.add(e),console.log(this.activeIndexes)}selectButton(e){this.selectedPostId=e,this.getButtonById(e)}static \u0275fac=function(o){return new(o||i)(V(D))};static \u0275cmp=M({type:i,selectors:[["app-main-buttons-menu"]],decls:1,vars:1,consts:[["loading",""],[4,"ngIf"],["class","w-[80%] mx-auto",4,"ngFor","ngForOf"],[1,"w-[80%]","mx-auto"],[1,"collapse","hover-shadow","card-body","bg-reg","my-4","rounded-xl","p-[20px]","pb-[10px]","collapse-arrow","hover-shadow"],["type","checkbox",3,"click"],[1,"collapse-title","text-xl","font-medium","flex","items-center","justify-between",3,"ngClass"],[1,"text-indigo-600"],[1,"text-indigo-600","pr-2"],["class","btn btn-outline hover:bg-regular absolute right-0 bg-reg text-indigo-400 z-10",4,"ngIf"],[1,"collapse-content","px-0"],[1,"flex","justify-between","py-4","items-center"],[1,"text-sm"],[1,"nj-toast"],[1,"text-end","text-gray-400","text-xs","flex-auto"],[1,"menu-post-item","mb-[40px]"],[1,"card","bg-base-100","mx-auto","w-[100%]","shadow-xl"],[1,"card-body"],[1,"text-xl","text-indigo-400","font-bold"],[1,"btn","btn-outline","hover:bg-regular","relative","bg-reg","text-indigo-400","z-10","w-fit","ml-auto"],["class","flex flex-col gap-2",4,"ngIf"],[1,"btn","btn-outline","hover:bg-regular","absolute","right-0","bg-reg","text-indigo-400","z-10"],["alt","Post Image",3,"src"],[1,"flex","flex-col","gap-2"],[1,"text-lg","font-bold","text-indigo-400","pt-4"],["class","collapse collapse-arrow card bg-base-100 mx-auto w-[100%] shadow-xl",4,"ngFor","ngForOf"],[1,"collapse","collapse-arrow","card","bg-base-100","mx-auto","w-[100%]","shadow-xl"],["type","checkbox",1,"peer"],[1,"collapse-title","text-indigo-400","bg-reg","peer-checked:bg-primary","peer-checked:text-white","font-bold","text-lg"],[1,"collapse-content","bg-reg"],[1,"sub-btn-date","flex","justify-between","text-gray-400","text-xs","py-2","px-4"],[1,"sub-btn-body-wrapper","flex","flex-col","gap-2"],[1,"sub-btn-body","flex","justify-between","items-center"],[1,"sub-btn-body-title","text-lg","font-bold","text-indigo-400","flex","gap-2"],[1,"sub-btn-body-order","font-bold","flex","gap-4","items-center"],[1,"order"],[1,"nj-toast-trans"],[1,"btn","btn-outline","hover:bg-regular","relative","bg-reg","text-indigo-400","z-10","w-fit","ml-auto",3,"click"],["class","sub-btn-url",4,"ngIf"],[1,"sub-btn-url"],["class","card bg-base-100 mx-auto w-[100%] shadow-xl my-4",4,"ngFor","ngForOf"],[1,"card","bg-base-100","mx-auto","w-[100%]","shadow-xl","my-4"],[1,"isLoading","fixed","z-10"],["xmlns","http://www.w3.org/2000/svg","width","300","height","300","viewBox","0 0 24 24",1,""],["id","gradient1","cx","50%","cy","50%","r","50%"],["offset","0%","stop-color","oklch(51.01% 0.274 263.83)"],["offset","100%","stop-color","#4f45e5"],["id","gradient2","cx","50%","cy","50%","r","50%"],["offset","0%","stop-color","oklch(47.66% 0.246 305.88)"],["offset","100%","stop-color","#818cf8"],["id","gradient3","cx","50%","cy","50%","r","50%"],["offset","0%","stop-color","#4f45e5"],["offset","100%","stop-color","#8845e5"],["cx","12","cy","12","r","0","fill","url(#gradient1)"],["id","svgSpinnersPulseMultiple0","fill","freeze","attributeName","r","begin","0;svgSpinnersPulseMultiple2.end","calcMode","spline","dur","1.2s","keySplines",".52,.6,.25,.99","values","0;11"],["fill","freeze","attributeName","opacity","begin","0;svgSpinnersPulseMultiple2.end","calcMode","spline","dur","1.2s","keySplines",".52,.6,.25,.99","values","1;0"],["cx","12","cy","12","r","0","fill","url(#gradient2)"],["id","svgSpinnersPulseMultiple1","fill","freeze","attributeName","r","begin","svgSpinnersPulseMultiple0.begin+0.2s","calcMode","spline","dur","1.2s","keySplines",".52,.6,.25,.99","values","0;11"],["fill","freeze","attributeName","opacity","begin","svgSpinnersPulseMultiple0.begin+0.2s","calcMode","spline","dur","1.2s","keySplines",".52,.6,.25,.99","values","1;0"],["cx","12","cy","12","r","0","fill","url(#gradient3)"],["id","svgSpinnersPulseMultiple2","fill","freeze","attributeName","r","begin","svgSpinnersPulseMultiple0.begin+0.4s","calcMode","spline","dur","1.2s","keySplines",".52,.6,.25,.99","values","0;11"],["fill","freeze","attributeName","opacity","begin","svgSpinnersPulseMultiple0.begin+0.4s","calcMode","spline","dur","1.2s","keySplines",".52,.6,.25,.99","values","1;0"]],template:function(o,r){o&1&&_(0,ki,4,1,"div",1),o&2&&p("ngIf",r.structuredData.length>0)},dependencies:[Q,j,z,R,O]})}return i})();var Le=(()=>{class i{static \u0275fac=function(o){return new(o||i)};static \u0275cmp=M({type:i,selectors:[["app-add-button"]],decls:5,vars:0,consts:[[1,"added-page","ml-side","relative","container"],["src","https://media.istockphoto.com/id/185244309/photo/work-in-progress.jpg?s=612x612&w=0&k=20&c=ECQ9StWhFTfFjWg_yt8ITEyAuZpRLVV8akD20jagc-Y=","alt","",1,"w-full","h-auto"]],template:function(o,r){o&1&&(d(0,"app-sidebar"),t(1,"section",0),d(2,"img",1)(3,"app-main-buttons-menu")(4,"app-inline-buttons"),n())},dependencies:[le,de,Ne]})}return i})();var Ii=[{path:"",component:Ae},{path:"add-button",component:Le}],je=(()=>{class i{static \u0275fac=function(o){return new(o||i)};static \u0275mod=K({type:i});static \u0275inj=Z({imports:[ee.forChild(Ii),ee]})}return i})();var Gn=(()=>{class i{static \u0275fac=function(o){return new(o||i)};static \u0275mod=K({type:i});static \u0275inj=Z({imports:[ne,ye,je,be]})}return i})();export{Gn as AdminModule};
